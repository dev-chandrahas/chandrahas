!function(){for(var t,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],s=i.length,n=window.console=window.console||{};s--;)t=i[s],n[t]||(n[t]=e)}(),function(t){t.fn.extend({rotaterator:function(e){var i={fadeSpeed:1500,pauseSpeed:2500,child:null},e=t.extend(i,e);return this.each(function(){var i=e,s=t(this),n=t(s.children(),s);if(n.each(function(){t(this).hide()}),i.child)var a=i.child;else var a=t(s).children(":first");t(a).fadeIn(i.fadeSpeed,function(){t(a).delay(i.pauseSpeed).fadeOut(i.fadeSpeed,function(){var e=t(this).next();0==e.length&&(e=t(s).children(":first")),t(s).rotaterator({child:e,fadeSpeed:i.fadeSpeed,pauseSpeed:i.pauseSpeed})})})})}})}(jQuery),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e="animsition",i={init:function(s){s=t.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=parseURL(t)}},s),i.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var n=i.supportCheck.call(this,s);if(!n&&s.browser.length>0&&(!n||!this.length))return"console"in window||(window.console={},window.console.log=function(t){return t}),this.length||console.log("Animsition: Element does not exist on page."),n||console.log("Animsition: Does not support this browser."),i.destroy.call(this);var a=i.optionCheck.call(this,s);return a&&t("."+s.overlayClass).length<=0&&i.addOverlay.call(this,s),s.loading&&t("."+s.loadingClass).length<=0&&i.addLoading.call(this,s),this.each(function(){var n=this,a=t(this),r=t(window),o=t(document),h=a.data(e);h||(s=t.extend({},s),a.data(e,{options:s}),s.timeout&&i.addTimer.call(n),s.onLoadEvent&&r.on("load."+e,function(){i.settings.timer&&clearTimeout(i.settings.timer),i["in"].call(n)}),r.on("pageshow."+e,function(t){t.originalEvent.persisted&&i["in"].call(n)}),r.on("unload."+e,function(){}),o.on("click."+e,s.linkElement,function(e){e.preventDefault();var s=t(this),a=s.attr("href");2===e.which||e.metaKey||e.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&e.ctrlKey?window.open(a,"_blank"):i.out.call(n,s,a,"gl")}))})},addOverlay:function(e){t(e.overlayParentElement).prepend('<div class="'+e.overlayClass+'"></div>')},addLoading:function(e){t(e.loadingParentElement).append('<div class="'+e.loadingClass+'">'+e.loadingInner+"</div>")},removeLoading:function(){var i=t(this),s=i.data(e).options,n=t(s.loadingParentElement).children("."+s.loadingClass);n.fadeOut().remove()},addTimer:function(){var s=this,n=t(this),a=n.data(e).options;i.settings.timer=setTimeout(function(){i["in"].call(s),t(window).off("load."+e)},a.timeoutCountdown)},supportCheck:function(e){var i=t(this),s=e.browser,n=s.length,a=!1;0===n&&(a=!0);for(var r=0;n>r;r++)if("string"==typeof i.css(s[r])){a=!0;break}return a},optionCheck:function(e){var s,n=t(this);return s=e.overlay||n.data(i.settings.data.overlay)?!0:!1},animationCheck:function(i,s,n){var a=t(this),r=a.data(e).options,o=typeof i,h=!s&&"number"===o,c=s&&"string"===o&&i.length>0;return h||c?i=i:s&&n?i=r.inClass:!s&&n?i=r.inDuration:s&&!n?i=r.outClass:s||n||(i=r.outDuration),i},"in":function(){var s=this,n=t(this),a=n.data(e).options,r=n.data(i.settings.data.inDuration),o=n.data(i.settings.data.inClass),h=i.animationCheck.call(s,r,!1,!0),c=i.animationCheck.call(s,o,!0,!0),l=i.optionCheck.call(s,a),u=n.data(e).outClass;a.loading&&i.removeLoading.call(s),u&&n.removeClass(u),l?i.inOverlay.call(s,c,h):i.inDefault.call(s,c,h)},inDefault:function(e,s){var n=t(this);n.css({"animation-duration":s+"ms"}).addClass(e).trigger(i.settings.events.inStart).animateCallback(function(){n.removeClass(e).css({opacity:1}).trigger(i.settings.events.inEnd)})},inOverlay:function(s,n){var a=t(this),r=a.data(e).options;a.css({opacity:1}).trigger(i.settings.events.inStart),t(r.overlayParentElement).children("."+r.overlayClass).css({"animation-duration":n+"ms"}).addClass(s).animateCallback(function(){a.trigger(i.settings.events.inEnd)})},out:function(s,n){var a=this,r=t(this),o=r.data(e).options,h=s.data(i.settings.data.outClass),c=r.data(i.settings.data.outClass),l=s.data(i.settings.data.outDuration),u=r.data(i.settings.data.outDuration),d=h?h:c,f=l?l:u,m=i.animationCheck.call(a,d,!0,!1),g=i.animationCheck.call(a,f,!1,!1),_=i.optionCheck.call(a,o);r.data(e).outClass=m,_?i.outOverlay.call(a,m,g,n):i.outDefault.call(a,m,g,n)},outDefault:function(s,n,a){var r=t(this),o=r.data(e).options;r.css({"animation-duration":n+1+"ms"}).addClass(s).trigger(i.settings.events.outStart).animateCallback(function(){r.trigger(i.settings.events.outEnd),o.transition(a)})},outOverlay:function(s,n,a){var r=this,o=t(this),h=o.data(e).options,c=o.data(i.settings.data.inClass),l=i.animationCheck.call(r,c,!0,!0);t(h.overlayParentElement).children("."+h.overlayClass).css({"animation-duration":n+1+"ms"}).removeClass(l).addClass(s).trigger(i.settings.events.outStart).animateCallback(function(){o.trigger(i.settings.events.outEnd),h.transition(a)})},destroy:function(){return this.each(function(){var i=t(this);t(window).off("."+e),i.css({opacity:1}).removeData(e)})}};t.fn.animateCallback=function(e){var i="animationend webkitAnimationEnd";return this.each(function(){var s=t(this);s.on(i,function(){return s.off(i),e.call(this)})})},t.fn.animsition=function(s){return i[s]?i[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?void t.error("Method "+s+" does not exist on jQuery."+e):i.init.apply(this,arguments)}}),function(){function E(t){console.log(t)}function fa(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.prototype.super=e,"OWN_PROPS"in e&&(t.OWN_PROPS=e.OWN_PROPS.slice())}function pa(t){if(t=t.replace(/ /g,""),-1!=t.indexOf("#")){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1}:null}return e=t.toLowerCase(),-1!=e.indexOf("rgb(")||-1!=e.indexOf("rgba(")?(e=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(","),{r:Number(e[0]),g:Number(e[1]),b:Number(e[2]),a:3<e.length?Number(e[3]):1}):"undefined"!=typeof Aa[e]?(t=Aa[e],t.a=1,t):(e=F.PIXEL,e.save(),e.fillStyle=t,e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,t={r:t[0],g:t[1],b:t[2],a:t[3]/255},e.restore(),e.clearRect(0,0,2,2),t)}function v(t,e){return isNaN(t)||0>t?e:t}function qa(t,e,i,s){return isNaN(t)?s:e>t?e:t>i?i:t}function Ba(){var t=new this.constructor,e=this.constructor.OWN_PROPS;for(i=e.length;i--;)t[e[i]]=this[e[i]];return t}function Q(){var t=Ba.call(this);t.listeners={};for(var e in this.listeners)t.listeners[e]=this.listeners[e].slice();return(e=ra.of(this))&&e.addTo(t),t}function X(){var t,e=[],i=[];this.get=function(s){for(t=e.length;t--;)if(e[t]===s)return i[t]},this.set=function(s,n){for(t=e.length;t--;){if(k=e[t],k===s)return void(i[t]=n);this.useGC&&this.gcCondition(k,i[t])&&(e.splice(t,1),i.splice(t,1),this.useGCEvents&&this.dispatchEvent("removedByGC",{key:k,value:i[t]}))}e.push(s),i.push(n)},this.has=function(i){for(t=e.length;t--;)if(e[t]===i)return!0;return!1},this.delete=function(s){for(t=e.length;t--;)if(e[t]===s){e.splice(t,1),i.splice(t,1);break}},Object.defineProperty(this,"size",{get:function(){return e.length},enumerable:!0,configurable:!1}),this.log=function(){for(E(""),E('Hash-table "'+this.name+'" log:'),E(""),t=0,n=e.length;n>t;t++)E(t+". key = "+e[t]+", value = "+i[t])},this.name="untitled",this.gcCondition=X.EMPTY_GC_CONDITION,this.useGCEvents=this.useGC=!1,C.init(this)}function H(){if(arguments.length&&arguments[0]===R){var t=arguments[1],e=t.errorType;if(t.hostClass)var i=t.hostClass.getID(),s=t.hostClass.prototype.className;else i=H.getID(),s="SoftMap"}else e='SoftMap "set"',i=H.getID(),s="SoftMap";var n=0,a=z.createHiddenZone,r=z.keyIsObject,o=z.keyIsFixed,h=z.hiddenZoneOf,c=z.keyHasHiddenZone,l=z.keyKnowsID;this.set=function(t,s){if(!r(t))return E(e+" ERROR: "+t+" is not an Object"),!1;if(c(t))l(t,i)||(n++,h(t).propsTotal++);else{if(o(t))return E(e+" ERROR: "+t+' is frozen or its "valueOf" is not configurable'),!1;a(t),n++,h(t).propsTotal++}return h(t)[i]=s,!0},this.get=function(t){return r(t)&&c(t)?h(t)[i]:void 0},this.has=function(t){return r(t)&&c(t)&&l(t,i)},this.hasPair=function(t,e){return this.has(t)&&h(t)[i]===e},this.delete=function(t){return this.has(t)?(delete h(t)[i],h(t).propsTotal--,n--,!0):!1},Object.defineProperty(this,"size",{get:function(){return n}}),this.traceID=function(){E(s+" instance id == "+i)},this.traceCollectionsOf=z.traceCollectionsOf}function Y(){var t=new H(R,{hostClass:Y,errorType:'SoftSet "add"'});this.add=function(e){return t.set(e,!0)},this.has=function(e){return t.has(e)},this.delete=function(e){return t.delete(e)},Object.defineProperty(this,"size",{get:function(){return t.size}}),this.traceID=function(){t.traceID()},this.traceCollectionsOf=z.traceCollectionsOf}function L(){if(arguments.length&&arguments[0]===R)var t=arguments[1],e=t.errorType,i=t.hostClass;var s=t?new H(R,{hostClass:i||L,errorType:e||'HardMap "set"'}):new H(R,{hostClass:L,errorType:'HardMap "set"'}),n={},a={},r={},o=0;this.set=function(t,e){var i=!z.keyIsObject(t);if(i){var h=t;r.hasOwnProperty(t)&&(t=r[t])}return s.has(t)?(i=s.get(t),a[i]=e,!0):(i&&(r[h]=t={$:t}),s.set(t,++o)?(n[o]=i?h:t,a[o]=e,!0):(o--,!1))},this.get=function(t){return z.keyIsObject(t)?a[s.get(t)]:r.hasOwnProperty(t)?a[s.get(r[t])]:void 0},this.has=function(t){return z.keyIsObject(t)?s.has(t):r.hasOwnProperty(t)},this.hasPair=function(t,e){return this.has(t)&&this.get(t)===e},this.delete=function(t){if(!z.keyIsObject(t)&&r.hasOwnProperty(t)){var e=r[t];delete r[t],t=e}return e=s.get(t),void 0!==e?(delete n[e],delete a[e],s.delete(t),!0):!1},this.forEach=function(t){for(id in n)t(a[id],n[id],this)},this.forEachKey=function(t,e){for(id in n)t(n[id],e)},this.randomKey=function(){var t=Math.ceil(this.size*Math.random())||1,e=0;for(id in n)if(++e==t)return n[id]},this.clear=function(){for(id in n){var t=n[id];s.delete(z.keyIsObject(t)?t:r[t])}n={},a={},r={},o=0},Object.defineProperty(this,"size",{get:function(){return s.size}}),this.traceID=function(){s.traceID()},this.traceCollectionsOf=z.traceCollectionsOf}function Z(){var t=new L(R,{hostClass:Z,errorType:'HardSet "add"'});this.add=function(e){return t.set(e,!0)},this.has=function(e){return t.has(e)},this.delete=function(e){return t.delete(e)},this.forEach=function(e){t.forEachKey(e,this)},this.clear=function(){t.clear()},this.random=function(){return t.randomKey()},Object.defineProperty(this,"size",{get:function(){return t.size}}),this.traceID=function(){t.traceID()},this.traceCollectionsOf=z.traceCollectionsOf}function ga(t){if(t&&t instanceof Object){var i,e=new ga;for(i in t)e.add(i);return e}var n,a,r,s={},o=0;this.add=function(t){return t=String(t),this.has(t)||""===t?!1:(o?(r[2]=t,r=s[t]=[r[1],t,0]):s[t]=a=r=[0,t,0],o++,!0)},this.addBefore=function(t,e){if(this.has(t)&&e!=t&&""!==e){if(e=String(e),this.has(e)){if(s[t][0]==e)return!1;s[t][0]?(s[e][2]?(n=s[e],s[n[0]][2]=n[2],s[n[2]][0]=n[0]):(n=r,r=s[n[0]],r[2]=0),n[2]=t,n[0]=s[t][0],s[n[0]][2]=s[t][0]=e):(s[e][2]?(a=s[e],s[a[0]][2]=a[2],s[a[2]][0]=a[0]):(a=r,r=s[a[0]],r[2]=0),a[2]=t,a[0]=0,s[t][0]=e)}else{if(s[t][0]){var i=s[t][0];s[i][2]=e,s[t][0]=e,s[e]=[i,e,t]}else a[0]=e,a=s[e]=[0,e,t];o++}return!0}return!1},this.addAfter=function(t,e){if(this.has(t)&&e!=t&&s[t][2]!=e&&""!==e){if(s[t][2])return this.addBefore(s[t][2],e);r[2]="",r=s[""]=[t,"",0];var i=this.addBefore("",e);return r=s[r[0]],r[2]=0,delete s[""],i}return!1},this.has=function(t){return s.hasOwnProperty(t)},this.nextTo=function(t){return this.has(t)?s[t][2]:void 0},this.prevTo=function(t){return this.has(t)?s[t][0]:void 0},this.delete=function(t){return this.has(t)?(s[t][0]?s[t][2]?(n=s[t],s[n[0]][2]=n[2],s[n[2]][0]=n[0]):(r=s[s[t][0]],r[2]=0):(a=s[s[t][2]],a[0]=0),delete s[t],o--,!0):!1},this.isFirst=function(t){return this.has(t)&&!s[t][0]},this.isLast=function(t){return this.has(t)&&!s[t][2]},Object.defineProperty(this,"size",{get:function(){return o}}),Object.defineProperty(this,"first",{get:function(){return o?a[1]:void 0}}),Object.defineProperty(this,"last",{get:function(){return o?r[1]:void 0}}),this.traceLinks=function(){E(""),E("----- IdChain links: -----");for(var t=a[1];t;)E(t+": ["+s[t]+"]"),t=s[t][2]}}function S(){Object.defineProperty(this,"propsTotal",{value:0,configurable:!1,wrirable:!0,enumerable:!1})}function A(t,e,i){(i||3>arguments.length)&&(A.__defaultInstance=this),t=isNaN(t)||0>=t?60:t;var s=60==t;this.frameDuration=1e3/t,e=2>arguments.length?!0:e;var l,n=null,a=[],r=[],o=0,h=!1,c=!1,u=0,d=0,f=this,m={object:{func:function(){f.removeListener(m.object,"func")}},methodName:"func"},g=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,f.frameDuration)},_=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||clearTimeout,p=e?function(){for(l=(new Date).getTime(),c=!0,u=a.length;u--;)a[u]&&a[u].object[a[u].methodName](l,l);if(c=!1,o)for(d=r.length;d--;)r[d]&&r[d].object[r[d].methodName]();h&&v()}:function(){for(c=!0,u=a.length;u--;)a[u]&&a[u].object[a[u].methodName]();if(c=!1,o)for(d=r.length;d--;)r[d]&&r[d].object[r[d].methodName]();h&&v()},v=s?function(){n=g(p)}:function(){n=setTimeout(p,f.frameDuration)};this.addListener=function(t,e,i){2>arguments.length?e="call":"boolean"==typeof arguments[1]&&(i=e,e="call");for(var s=a.length;s--;)if(a[s].object===t&&a[s].methodName===e)return;s={object:t,methodName:e,debugStr:"debugStr"},i?s.isHidden=i:o++,a.push(s),h||(h=!0,c||v())},this.removeListener=function(t,e){2>arguments.length&&(e="call");for(var i=a.length;i--;)if(a[i].object===t&&a[i].methodName===e){var c=!a[i].isHidden;if(c&&o--,a.splice(i,1),u>i&&u--,a.length){if(!o&&c)for(i=r.length;i--;)r[i].object[r[i].methodName]()}else if(h=!1,s?_(n):clearTimeout(n),c)for(i=r.length;i--;)r[i].object[r[i].methodName]();break}},this.removeAllListeners=function(){s?_(n):clearTimeout(n),h=!1,a.length=o=u=0;for(var t=r.length;t--;)r[t].object[r[t].methodName]()},this.addUpdateListener=function(t,e){for(var i=r.length;i--;)if(r[i].object===t&&r[i].methodName===e)return;r.push({object:t,methodName:e})},this.removeUpdateListener=function(t,e){for(var i=r.length;i--;)if(r[i].object===t&&r[i].methodName===e){r.splice(i,1),d>i&&d--;break}},this.doNextTick=function(t,e){function i(){s.removeListener(i),t()}var s=this;e?this.addListener(i,e):this.addListener(i)},this.doLater=function(t,e,i){function s(){(new Date).getTime()-a>e&&(n.removeListener(s),t())}var n=this,a=(new Date).getTime();i?this.addListener(s,i):this.addListener(s)},this.addTimerListener=function(t,e,i,s){if(1<arguments.length&&isNaN(arguments[1])){var n=t,a=e;t=function(){n[a]()},e=i,i=s,s=arguments[4]}e=e||1e3;var h,r=this,o=(new Date).getTime(),c=0;if(s){var l=1,u=s.repeats||0,d=s.precision||1,f=s.randomization||0,m=e*(1+f*(2*Math.random()-1)),g=d*m,_=function(){if(h=(new Date).getTime(),c+=h-o,c>g){for(;c>g;)t(),c-=m;++l>u&&u?r.removeListener(_):(m=e*(1+f*(2*Math.random()-1)),g=d*m)}o=h};Object.defineProperty(_,"delay",{get:function(){return e},set:function(t){e=t,m=e*(1+f*(2*Math.random()-1)),g=d*m}})}else _=function(){for(h=(new Date).getTime(),c+=h-o;c>e;)t(),c-=e;o=h},Object.defineProperty(_,"delay",{get:function(){return e},set:function(t){e=t}});return i?this.addListener(_,i):this.addListener(_),_},this.ensureNextTickUpdate=function(){o||(o++,a.push(m),h||(h=!0,v()))},this.listenersTotal=function(){return a.length},this.getListeners=function(){return a}}function Ca(t,e){var i=t[e];Object.defineProperty(this,"value",{get:function(){return i},set:function(s){i=t[e]=s}})}function sa(t,e,i,s){this.__object=t,this.__delta=e||{},this.__deltaInit={};for(var n in this.__delta)this.__deltaInit[n]=this.__delta[n];this.__ratio=i||{},this.__ratioInit={};for(n in this.__ratio)this.__ratioInit[n]=this.__ratio[n];this.__efs,this.__isPlayed=!1,this.__efs=s?s:t.__stage&&t.__stage.metronome?t.__stage.metronome:A.getInstance()}function ta(t,e,i){this.__object=t,this.__delta=e||{},this.__deltaInit={};for(var s in e)this.__deltaInit[s]=e[s];this.__efs=i?i:t.__stage&&t.__stage.metronome?t.__stage.metronome:A.getInstance(),this.__frameDuration=this.__efs.frameDuration,this.__isPlayed=!1}function ha(t,e,i){this.__object=t,this.__speed=e||{},this.__speedInit={};for(var s in e)this.__speedInit[s]=e[s];this.__efs=i?i:t.__stage&&t.__stage.metronome?t.__stage.metronome:A.getInstance(),this.__isPlayed=!1}function ua(t,e,i,s){this.__speed=isNaN(e)?0:e,this.__angle=isNaN(i)?0:i*Math.PI/180,this.__motion=new ha(t,{x:this.__speed*Math.cos(this.__angle),y:this.__speed*Math.sin(this.__angle)},s)}function aa(t,e,i,s){this.__object=t,this.__propName=e,this.__propValue=t[e],i?(this.wave="wave"in i?i.wave:D.sin,this.amplitude="amplitude"in i?i.amplitude:10,this.frequency="frequency"in i?i.frequency:1,this.phase="phase"in i?i.phase:0):(this.wave=D.sin,this.amplitude=10,this.frequency=1,this.phase=0),this.__efs=s?s:t.__stage&&t.__stage.metronome?t.__stage.metronome:A.getInstance(),this.__isPlayed=!1,this.__startTime=void 0,this.__stopTime}function ba(){this.__stage=this.__context=null,this.__children=[],this.parent=null,this.rotation=this.x=this.y=0,this.scaleX=this.scaleY=1,this.originX=this.originY=0,this.alpha=1,this.matrixLocal=void 0,this.matrixGlobal=m.ZERO,C.init(this),this.masks=[],this.holes=[],this.draw=this.drawNormal,this.getHitAsset=this.getHitAssetNormal}function F(t){function e(t){c.__gestureOccured=!0,c.gesturePoint=c.getMousePoint(t),c.gestures.group1.mouseDown=!0,delete c.gestures.group1.mouseUp,c.isDown=!0}function i(t){c.__gestureOccured=!0,c.gesturePoint=c.getMousePoint(t),c.gestures.group1.mouseUp=!0,delete c.gestures.group1.mouseDown,c.isDown=!1}function s(t){c.__gestureOccured=!0,t=c.getMousePoint(t),(t.x!=c.gesturePoint.x||t.y!=c.gesturePoint.y)&&(c.gesturePoint=t,c.gestures.group1.mouseMove=!0,c.gestures.group2.mouseOver=!0,c.gestures.group2.mouseOut=!0)}function n(t){c.__gestureOccured=!0,c.gesturePoint=c.getMousePoint(t),c.gestures.group1.mouseMove=!0,c.gestures.group2.mouseOver=!0}function a(){c.__gestureOccured=!0,c.gesturePoint={x:void 0,y:void 0},c.gestures.group2.mouseOut=!0,c.gestures.group1.mouseUp=!0,delete c.gestures.group1.mouseDown}function r(t){c.__gestureOccured=!0,c.gestures.group1.mouseDown=!0,delete c.gestures.group1.mouseUp,c.isDown=!0,c.gesturePoint=c.getTouchPoint(t)}function o(t){c.__gestureOccured=!0,c.__touchEndOccured=!0,c.gestures.group1.mouseUp=!0,delete c.gestures.group1.mouseDown,c.isDown=!1,c.gesturePoint=c.getTouchPoint(t)}function h(t){c.__gestureOccured=!0,c.gesturePoint=c.getTouchPoint(t),c.gestures.group1.mouseMove=!0,c.gestures.group2.mouseOver=!0,c.gestures.group2.mouseOut=!0}this.__container=this.__height=this.__width=this.__context=this.__canvas=this.__canvasID=null,this.__cornerRadius=0,this.__cornerTL,this.__cornerTR,this.__cornerBL,this.__cornerBR,this.draw=this.drawNormal,this.metronome=new A(t,!0,!1),this.clearBeforeDraw=!0,this.listenPassiveGestures=this.__listenGestures=!1,this.gesturePoint={x:void 0,y:void 0},this.isDown=!1,this.hitAsset=void 0,this.hitContainers=[],this.downAsset=void 0,this.downContainers=[],this.outContainers=[],this.__downTimeForDbClick=this.__downTime=0,this.__clickWithoutMouseMotion=!1,this.__dbClickCandidates=[],this.__minDbClickDownTime=0,this.dbClickTime=this.fastClickTime=200,this.pixelRatio=1,this.__touchEndOccured=this.__gestureOccured=!1,this.gestures={group1:{},group2:{},group3:{}};var c=this;this.addDomGestureListeners=function(){var t=this.__canvas;t.addEventListener("mousedown",e),t.addEventListener("mouseup",i),t.addEventListener("mousemove",s),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",a),t.addEventListener("touchstart",r),t.addEventListener("touchend",o),t.addEventListener("touchmove",h),t.addEventListener("touchcancel",o)},this.removeDomGestureListeners=function(){var t=this.__canvas;t.removeEventListener("mousedown",e),t.removeEventListener("mouseup",i),t.removeEventListener("mousemove",s),t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",a),t.removeEventListener("touchstart",r),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",h),t.removeEventListener("touchcancel",o)}}function va(t){var e=1,i=document.createElement("canvas");Da.set(i,{position:"relative",width:"100%",height:"100%",top:0,left:0,margin:0}),i.width=e*t.clientWidth,i.height=e*t.clientHeight,t.appendChild(i),this.__stage=void 0,Object.defineProperties(this,{canvas:{get:function(){return i}},webElement:{get:function(){return t}},pixelRatio:{get:function(){return e},set:function(t){e=t,this.__stage&&(this.__stage.pixelRatio=t,this.resize())}}}),window.addEventListener("resize",function(){this.__stage&&this.resize()})}function ia(t,e,i,s,n){this.parent=this.__stage=this.__context=null,this.rotation=this.x=this.y=0,this.scaleX=this.scaleY=1,this.originX=this.originY=0,this.image=null,this.alpha=1,this.draw=this.drawNothing,this.height=this.width=0,this.sx=e,this.sy=i,this.sw=s,this.sh=n,this.matrixLocal=void 0,this.matrixGlobal=m.ZERO,t&&(this.src=parseURL(t)),this.isLoading=this.useDeepHitTest=!1,C.init(this)}function T(){this.data=null;var e=this;this.load=function(i){var s=t.ref,n=new XMLHttpRequest;n.open("GET",i,!0,"gl"),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&0!=n.status||(e.data=n.responseText,e.hasOwnProperty("onComplete")&&e.onComplete(),s.end())},n.send(null)}}function Ea(e){this.frames=[],this.data=null;var s,i=this,n=function(t,e,n,a){for(t=String(t),e-=t.length;e--;)t="0"+t;s=n+t+a,i.frames.push(s)};this.load=function(e){var s=t.ref,n=new T;n.onComplete=function(){var t=i.data=this.data;i.parse(t),i.hasOwnProperty("onLoad")&&i.onLoad(),s.end()},n.load(e)},this.parse=function(t){t=t.trim().split(" ").join("").split(",");for(var r,o,h,c,l,a=t.length,u=0;a>u;u++)if(r=t[u],c=r.length,o=r.indexOf("*"),o+1){if(h=r.lastIndexOf("*")-o+1,l=r.substr(0,o),r=r.substring(o+h,c),c=r.lastIndexOf("["),o=r.lastIndexOf("]"),c+1&&1==r.length-o)if(o=r.substring(c+1,o),r=r.substr(0,c),c=o.split("-"),1<c.length)if(o=c[0],c=c[1],c>o)for(;c>=o;o++)n(o,h,l,r);else for(;o>=c;o--)n(o,h,l,r);else n(o,h,l,r);else if(e)for(o=0,c=!0;c;){c=o++,c=String(c);for(var d=h-c.length;d--;)c="0"+c;c=l+c+r,(d=e.frames.hasOwnProperty(c))&&(i.frames.push(c),s=c),c=d}}else if(0==r.indexOf("[")&&r.indexOf("]")==c-1){if(h=r.substr(1,c-2),!isNaN(h)&&s)for(;h--;)l=s,i.frames.push(l),s=l}else if(0==r.indexOf("<")&&r.indexOf(">")==c-1){if(h=r.substr(1,c-2),!isNaN(h))for(;h--;)i.frames.length++,s=void 0}else h=r,i.frames.push(h),s=h}}function ja(t,e){this.parent=this.__stage=this.__context=null,this.rotation=this.x=this.y=0,this.scaleX=this.scaleY=1,this.originX=this.originY=0,this.alpha=1,this.draw=this.drawImage,this.matrixLocal=void 0,this.matrixGlobal=m.ZERO,this.__imageName=this.__atlasData=null,t&&(this.atlasData=t),e&&(this.imageName=e),this.useDeepHitTest=!1,C.init(this)}function ka(t,e){this.parent=this.__stage=this.__context=null,this.rotation=this.x=this.y=0,this.scaleX=this.scaleY=1,this.originX=this.originY=0,this.alpha=1,this.__atlasData=t,this.__totalFrames=(this.__atlasFilmData=e)&&e.frames?e.frames.length:void 0,this.__destinationFrameIndex=this.__startIndex=this.__changeIndexMethodName=void 0,this.__removeInTheEnd=!1,this.__stretchRatio=this.__repeatsNumber=1,this.frameIndex=this.frameTrimLeft=this.frameTrimTop=this.frameHeight=this.frameWidth=this.__stretchCount=0,this.__wasPlayingBeforeRemoving=this.isPlayed=!1,this.loseQueue(),this.matrixLocal=void 0,this.matrixGlobal=m.ZERO,this.draw=this.drawFrame,this.useDeepHitTest=!1,this.__fps=0,this.__fpsTimer=void 0,C.init(this)}function O(t){if(this.props={},t)for(var e in t)this.props[e]=t[e]}function J(){this.parent=this.__stage=this.__context=null,this.rotation=this.x=this.y=0,this.scaleX=this.scaleY=1,this.originX=this.originY=0,this.alpha=1,this.__text="",this.__style=O.getDefaultTextStyle(),this.__boldItalic=(this.__style.props.bold?"bold ":"")+(this.__style.props.italic?"italic ":""),this.color=this.__style.props.color,this.strokeColor=this.__style.props.strokeColor,this.shadowColor=this.__style.props.shadowColor,this.draw=this.drawNormal,this.__alignOffsetX=this.__height=this.__width=0,this.matrixLocal=void 0,this.matrixGlobal=m.ZERO,this.strokeOverFill=!0,this.useDeepHitTest=!1,this.lines=[],this.__lineSpacing=30,this.__textWidth=void 0,this.__multiline=!1,this.fill=this.fillLine,this.stroke=this.strokeLine,this.measureWidth=this.measureLineWidth,this.measureHeight=this.measureLineHeight,this.calculateText=la,C.init(this)}function K(t,e,i){var s=K.parseCSSValue(t.style[e]||("opacity"==e?"1":"0"));this.__element=t,this.__prop=e,this.__suffix=i?i:s.suffix,this.__value=s.value}function t(e){function i(){u?u=!1:s.nextTask()}var o,h,c,s=this,n="parallel"==e?"parallel":"sequence",a=[],r=[];this.onComplete=function(){},this.onStart=function(){};var l,u=!1;this.delay=0,this.getIndex=function(){return o},this.getTaskDataList=function(){return r},this.nextTask=function(){o+1<a.length?a[++o]():h||(u=!1,this.onComplete(),c.end())},this.cancelScheduledTask=function(){u=!0},this.end=function(){"sequence"==n?setTimeout(i,1e3*this.delay):(o++,o>=a.length&&!h&&(u=!1,this.onComplete(),c.end()))},this.onStartBranch=function(){h++,"sequence"==n&&s.nextTask()},this.endBranch=function(){h--,o+1>=a.length&&!h&&(u=!1,this.onComplete(),c.end())},this.run=function(e){if(c=t.ref,a.length||this.addCall(function(){}),l=e,this.onStart(),o=h=0,"sequence"==n)a[0]();else if(this.delay){if(a[0](),1<a.length){var i=1;e=function(){var t=arguments.callee;clearInterval(t._delayInterval),i<t.tasks.length&&(t.tasks[i++](),t._delayInterval=setInterval(t,1e3*s.delay))},e.tasks=a,e._delayInterval=setInterval(e,1e3*this.delay)}}else for(i=0;i<a.length;i++)a[i]()},this.clear=function(){a.length=r.length=0,u=!1},this.getArgs=function(){return l},this.clone=function(){for(var e=new t,i=a.length,s=0;i>s;s++)e.addTaskData(r[s]);return e},this.addTask=function(){r.push(arguments);var e;e=[];for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];return arguments[0]instanceof Function?e=t.createTask2(this,arguments[0],e):(e.shift(),e=t.createTask3(this,arguments[0],arguments[1],e)),a.push(e),e._result},this.addBranchTask=function(){r.push(arguments);var e;e=[];for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];return arguments[0]instanceof Function?e=t.createTask2(this,arguments[0],e,!0):(e.shift(),e=t.createTask3(this,arguments[0],arguments[1],e,!0)),a.push(e),e._result},this.addTaskData=function(e){r.push(e);var i=e.concat();i.shift(),e[0]instanceof Function?e=t.createTask2(this,e[0],i):(i.shift(),e=t.createTask3(this,e[0],e[1],i)),a.push(e)},this.addQueue=function(t,e){return this.addTask(t,"run",e)},this.addBranchQueue=function(t,e){return this.addBranchTask(t,"run",e)},this.addQueueClone=function(t,e){return this.addQueue(t.clone(),e)},this.attachQueue=function(t,e){return this.addCall(t,"run",e)},this.embedQueue=function(t){t=t.getTaskDataList();for(var e=t.length,i=0;e>i;i++)this.addTaskData(t[i])},this.addCall=function(){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=arguments[0];if(s instanceof Function)i=function(){var i=t.ref,n=s.apply(null,e);return i.end(),n};else{e.shift();var n=arguments[1],i=function(){var i=t.ref,a=s[n].apply(s,e);return i.end(),a}}return this.addTask(i)},this.addPause=function(t,e){return this.addTask(e?wa.frames:wa.seconds,t)},this.addWait=function(){var e=arguments,i=e[0];return"string"==typeof i?this.addTask(function(){var s=t.ref,n=1<e.length?e[1]:document,a=function(){n.removeEventListener(i,a),s.end()};n.addEventListener(i,a)}):this.addTask(Fa.run,i)},this.addTween=function(t,e,i,s,n){this.addTask(ca.run,t,e,i,1e3*s,n)},this.addCallTween=function(t,e,i,s,n){this.addCall(ca.run,t,e,i,1e3*s,n)},this.addBranchTween=function(t,e,i,s,n){this.addBranchTask(ca.run,t,e,i,1e3*s,n)},this.addLoad=function(t){if("load"in t){for(var e=[arguments[0],"load"],i=arguments.length,s=1;i>s;s++)e.push(arguments[s]);return this.addTask.apply(this,e)}return this.addCall(la)}}function G(t,e){if(this.x=this.y=this.rotation=this.originX=this.originY=0,this.scaleX=this.scaleY=1,t&&(this.build=t),e)for(var i in e)this[i]=e[i]}function U(t){this.parent=this.__stage=this.__context=null,this.x=this.y=this.rotation=this.originX=this.originY=0,this.scaleX=this.scaleY=this.alpha=1,this.shape=t||G.EMPTY,this.strokeOverFill=!0,this.strokeColor=this.color="rgb(0,0,0)",this.strokeWidth=0,this.strokeCap="butt",this.strokeJoin="miter",this.strokeMiterLimit=10,this.matrixLocal=void 0,this.matrixGlobal=m.ZERO,this.shapeMatrixLocal=void 0,this.shapeMatrixGlobal=m.ZERO,this.useDeepHitTest=!1,C.init(this)}function V(){this.super(new da.RectangleShape(162,100))}function ea(){this.super(new da.CircleShape(25))}function ma(t){this.parent=this.__stage=this.__context=null,this.x=this.y=this.rotation=this.originX=this.originY=0,this.scaleX=this.scaleY=1,this.shape=t||G.EMPTY,this.draw=this.drawNothing,this.__visible=!1,this.color="rgb(0,100,200)",this.alpha=.5,this.matrixLocal=void 0,this.matrixGlobal=m.ZERO,this.shapeMatrixLocal=void 0,this.shapeMatrixGlobal=m.ZERO,C.init(this)}var R={},la=function(){},na="x y rotation scaleX scaleY originX originY".split(" "),p=na.concat(["alpha"]),Aa={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:216},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:216,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};
X.prototype={className:"CommonMap",superclassName:"Object",constructor:X},X.EMPTY_GC_CONDITION=function(){return!1},H.prototype={className:"SoftMap",superclassName:"Object",constructor:H},function(){var t=0;H.getID=function(){return"SoftMap_"+ ++t}}(),Y.prototype={className:"SoftSet",superclassName:"Object",constructor:Y},function(){var t=0;Y.getID=function(){return"SoftSet_"+ ++t}}(),L.prototype={className:"HardMap",superclassName:"Object",constructor:L,get forEachProxy(){var t=this;return{forEach:function(e){t.forEach(e)}}}},function(){var t=0;L.getID=function(){return"HardMap_"+ ++t}}(),Z.prototype={className:"HardSet",superclassName:"Object",constructor:Z,get forEachProxy(){var t=this;return{forEach:function(e){t.forEach(e)}}}},function(){var t=0;Z.getID=function(){return"HardSet_"+ ++t}}(),ga.prototype={className:"IdChain",superclassName:"Object",constructor:ga},S.prototype={className:"__KeyHiddenZone",superclassName:"Object",constructor:S};var z={};!function(t){function e(t){return t&&t instanceof Object}function i(t){return t.valueOf(S)}function s(t){return t.hasOwnProperty("valueOf")&&i(t)instanceof S}t.createHiddenZone=function(t){var e=new S,i=t.valueOf;Object.defineProperty(t,"valueOf",{value:function(t){return t&&t===S?e:i.apply(this,arguments)},configurable:!1,wrirable:!1})},t.keyIsObject=e,t.keyIsFixed=function(t){var e=Object.getOwnPropertyDescriptor(t,"valueOf");return e&&!e.configurable||Object.isFrozen(t)},t.hiddenZoneOf=i,t.keyHasHiddenZone=s,t.keyKnowsID=function(t,e){return i(t).hasOwnProperty(e)},t.traceCollectionsOf=function(t){if(e(t)&&s(t))for(str in E(""),E("Collections of "+t+":"),t=i(t))"className"!=str&&"superclassName"!=str&&"constructor"!=str&&E(str)}}(z),A.prototype={className:"EnterFrameSignal",superclassName:"Object",constructor:A,get frameRate(){return 1e3/this.frameDuration}},A.getInstance=function(){return A.__defaultInstance?A.__defaultInstance:new A};var C={},Ia=function(t,e){t.object[t.methodName](e)},Ja=function(t,e){t.object(e)};C.addEventListener=function(t,e,i){this.listeners[t]||(this.listeners[t]=[]);for(var s=3>arguments.length?Ja:Ia,n=this.listeners[t],a=n.length;a--;)if(n[a].object===e&&n[a].methodName===i)return;n.push({object:e,methodName:i,invokeListenerType:s,debugStr:"debugStr"})},C.removeEventListener=function(t,e,i){if(this.listeners[t])for(var s=this.listeners[t],n=s.length;n--;)if(s[n].object===e&&s[n].methodName===i){s.splice(n,1),s.length||delete this.listeners[t];break}},C.dispatchEvent=function(t,e){if(this.listeners[t])for(var i=this.listeners[t],s=i.length,n={type:t,currentTarget:this,target:e&&e.target?e.target:this,data:e},a=0;s>a;a++)i[a].invokeListenerType(i[a],n)},C.init=function(t){t.listeners={},t.addEventListener=this.addEventListener,t.removeEventListener=this.removeEventListener,t.dispatchEvent=this.dispatchEvent};var B={lin:function(){return function(t,e,i){return t+(e-t)*i}},circ:function(){return function(t,e,i){return.5>i?t+(e-t)/2*(1-Math.sqrt(1-4*i*i)):e-(e-t)/2*(1-Math.sqrt(1-4*(1-i)*(1-i)))}},circIn:function(){return function(t,e,i){return t+(e-t)*(1-Math.sqrt(1-i*i))}},circOut:function(){return function(t,e,i){return e-(e-t)*(1-Math.sqrt(1-(1-i)*(1-i)))}},elps:function(t,e){return t=t||.618,e=e||9,function(i,s,n){return.5>n?i+(s-i)/2*t*(1-Math.sqrt(1-Math.pow(2*n,e))):s-(s-i)/2*t*(1-Math.sqrt(1-Math.pow(2-2*n,e)))}},elpsIn:function(t,e){return t=t||.618,e=e||9,function(i,s,n){return i+(s-i)*t*(1-Math.sqrt(1-Math.pow(n,e)))}},elpsOut:function(t,e){return t=t||.618,e=e||9,function(i,s,n){return s-(s-i)*t*(1-Math.sqrt(1-Math.pow(1-n,e)))}},pow:function(t){return t=t||3,function(e,i,s){return.5>s?e+(i-e)/2*Math.pow(2*s,t):i-(i-e)/2*Math.pow(2*(1-s),t)}},powIn:function(t){return t=t||3,function(e,i,s){return e+(i-e)*Math.pow(s,t)}},powOut:function(t){return t=t||3,function(e,i,s){return i-(i-e)*Math.pow(1-s,t)}},sin:function(){return function(t,e,i){return t-(e-t)/2*(Math.cos(Math.PI*i)-1)}},sinIn:function(){return function(t,e,i){return e-(e-t)*Math.cos(Math.PI/2*i)}},sinOut:function(){return function(t,e,i){return t+(e-t)*Math.sin(Math.PI/2*i)}},exp:function(){return function(t,e,i){return 0==i?t:1==i?e:1>(i*=2)?t+(e-t)/2*Math.pow(2,10*(i-1)):t+(e-t)/2*(2-Math.pow(2,10*(1-i)))}},expIn:function(){return function(t,e,i){return 0==i?t:t+(e-t)*Math.pow(2,10*(i-1))}},expOut:function(){return function(t,e,i){return 1==i?e:t+(e-t)*(1-Math.pow(2,-10*i))}},osc:function(t,e){return t=t||4,e=e||11,function(i,s,n){return.5>n?i+(s-i)/2*Math.abs(Math.pow((n=1-2*n)-1,t))*Math.sin(Math.PI/2*(e*n+1)):s-(s-i)/2*Math.abs(Math.pow((n=2*n-1)-1,t))*Math.sin(Math.PI/2*(e*n+1))}},oscOut:function(t,e){return t=t||4,e=e||11,function(i,s,n){return s-(s-i)*Math.abs(Math.pow(n-1,t))*Math.sin(Math.PI/2*(e*n+1))}},oscIn:function(t,e){return t=t||4,e=e||11,function(i,s,n){return i+(s-i)*Math.abs(Math.pow(n,t))*Math.sin(Math.PI/2*(e*(1-n)+1))}},osc2:function(t,e){return t=t||9,e=e||11,function(i,s,n){return.5>n?i+(s-i)/2*Math.exp(-t*(n=1-2*n))*Math.sin(Math.PI/2*(e*n+1)):s-(s-i)/2*Math.exp(-t*(n=2*n-1))*Math.sin(Math.PI/2*(e*n+1))}},osc2Out:function(t,e){return t=t||9,e=e||11,function(i,s,n){return s-(s-i)*Math.exp(-t*n)*Math.sin(Math.PI/2*(e*n+1))}},osc2In:function(t,e){return t=t||9,e=e||11,function(i,s,n){return i+(s-i)*Math.exp(-t*(1-n))*Math.sin(Math.PI/2*(e*(1-n)+1))}},_bncGetParams:function(t,e){for(var i=Math.sqrt(e),s=[{tMax:1,tOffset:0,fOffset:0}],n=0,a=0,r=0;r++<t;){var n=a,a=a+2*Math.pow(i,r),o={};o.tMax=1+a,o.tOffset=1+n+Math.pow(i,r),o.fOffset=1-Math.pow(e,r),s.push(o)}for(i=1/s[t-1].tMax;r--;)o=s[r],o.tMax*=i,o.tOffset*=i;return{f:s,s:1/(i*i)}},bncOut:function(t,e){t=t||5;var i=B._bncGetParams(t,e||.25),s=i.f,n=i.s;return function(e,i,a){for(var r=0;t>r;r++){var o=s[r];if(a<o.tMax)return e+(i-e)*(n*(a-o.tOffset)*(a-o.tOffset)+o.fOffset)}}},bncIn:function(t,e){t=t||5;var i=B._bncGetParams(t,e||.25),s=i.f,n=i.s;return function(e,i,a){a=1-a;for(var r=0;t>r;r++){var o=s[r];if(a<o.tMax)return i-(i-e)*(n*(a-o.tOffset)*(a-o.tOffset)+o.fOffset)}}},bnc:function(t,e){t=t||5;var i=B._bncGetParams(t,e||.25),s=i.f,n=i.s;return function(e,i,a){if(.5>a){a=1-2*a;for(var r=0;t>r;r++){var o=s[r];if(a<o.tMax)return i-(i-e)/2*(n*(a-o.tOffset)*(a-o.tOffset)+o.fOffset+1)}}for(a=2*a-1,r=0;t>r;r++)if(o=s[r],a<o.tMax)return e+(i-e)/2*(n*(a-o.tOffset)*(a-o.tOffset)+o.fOffset+1)}},backIn:function(t){t=t||2.7;var e=-2*t-1,i=t+2;return function(s,n,a){return n-(n-s)*(t*(a=1-a)*a*a+e*a*a+i*a)}},backOut:function(t){t=t||2.7;var e=-2*t-1,i=t+2;return function(s,n,a){return s+(n-s)*(t*a*a*a+e*a*a+i*a)}},back:function(t){t=t||2.7;var e=-2*t-1,i=t+2;return function(s,n,a){return.5>a?n-(n-s)/2*(t*(a=1-2*a)*a*a+e*a*a+i*a+1):s+(n-s)/2*(t*(a=2*a-1)*a*a+e*a*a+i*a+1)}},powLin:function(t,e){t=t||3,e=void 0==e||0>e||e>1?.309:e/2;var i=t*(1/e-2)+2;return e?function(s,n,a){return e>=a?s+(n-s)/i*Math.pow(a/e,t):a>1-e?n-(n-s)/i*Math.pow((1-a)/e,t):s+(n-s)*(1/i+(1-2/i)*(a-e)/(1-2*e))}:B.lin()},powLinIn:function(t,e){t=t||3,e=void 0==e||0>e||e>1?.618:e;var i=t*(1/e-1)+1;return e?function(s,n,a){return e>a?s+(n-s)/i*Math.pow(a/e,t):s+(n-s)*(1/i+(1-1/i)*(a-e)/(1-e))}:B.lin()},powLinOut:function(t,e){t=t||3,e=void 0==e||0>e||e>1?.618:e;var i=t*(1/e-1)+1;return e?function(s,n,a){return a>1-e?n-(n-s)/i*Math.pow((1-a)/e,t):n-(n-s)*(1+a*(1-i)/(i*(1-e)))}:B.lin()},powCombo:function(t,e,i){t=t||3,e=e||5,i=i||.618;var s=t/(e*(1/i-1)+t);return function(n,a,r){return s>r?n+(a-n)*i*Math.pow(r/s,t):a-(a-n)*(1-i)*Math.pow((1-r)/(1-s),e)}},powCombo2:function(t,e,i){t=t||3,e=e||5,i=i||.618;var s=1/(t/e*(1/i-1)+1);return function(n,a,r){return i>r?n+(a-n)*s*Math.pow(r/i,t):a-(a-n)*(1-s)*Math.pow((1-r)/(1-i),e)}},morph:function(t,e,i){return t=t||B.circ(),e=e||B.pow(5),i?function(s,n,a){return i(t(s,n,a),e(s,n,a),a)}:function(i,s,n){return(1-n)*t(i,s,n)+n*e(i,s,n)}},custom:function(t){return function(e,i,s){return.5>s?e+(i-e)/2*t(2*s):i-(i-e)/2*t(2-2*s)}},customIn:function(t){return function(e,i,s){return e+(i-e)*t(s)}},customOut:function(t){return function(e,i,s){return i-(i-e)*t(1-s)}}};B.def=B.pow;var wa={frames:function(e,i){function s(){r++>e&&(a.removeListener(s),n.hasOwnProperty("onComplete")&&setTimeout(function(){n.onComplete()},0),q.end())}var n={},a=i||A.getInstance(),r=0;return q=t.ref,a.addListener(s,!0),n},seconds:function(e){var i={},s=t.ref;return setTimeout(function(){i.onComplete&&i.onComplete(),s.end()},1e3*e),i}},Fa={run:function(e,i){function s(){e()&&(a.removeListener(s),n.hasOwnProperty("onComplete")&&setTimeout(function(){n.onComplete()},0),r.end())}var n={},a=i||A.getInstance(),r=t.ref;return Object.defineProperty(n,"abort",{value:function(){a.removeListener(s)},writable:!1}),a.addListener(s,!0),n},abort:function(t){t.abort()}},xa={run:function(e,i,s,n,a,r){if(e instanceof HTMLElement&&!e.hasOwnProperty(i)&&i in e.style)return e.style[i]=window.getComputedStyle(e)[i],(!e.hasOwnProperty("cssPropModifier")||!e.cssPropModifier instanceof Ca)&&(e.cssPropModifier=new Ca(e.style,i)),xa.run(e.cssPropModifier,"value",s,n,a,r);var u,o=t.ref,h={object:e},c=a||500,l=n||B.lin(),d=pa(e[i]),f=pa(s),m="change"+i;u=r?r:e.__stage&&e.__stage.metronome?e.__stage.metronome:A.getInstance();var _,g=0,p=(new Date).getTime();return e[m]=function(t){_=g/c,this[i]="rgba("+Math.round(l(d.r,f.r,_))+","+Math.round(l(d.g,f.g,_))+","+Math.round(l(d.b,f.b,_))+","+l(d.a,f.a,_)+")",g=t-p,g>c&&(this[i]=s,u.removeListener(this,m),delete this[m],h.hasOwnProperty("onComplete")&&h.onComplete(),o.end())},u.addListener(e,m),h}},Ga={run:function(e,i,s,n,a,r){var u,o=t.ref,h={object:e},c=a||500,l=n||B.lin(),d=e[i],f="change"+i;u=r?r:e.__stage&&e.__stage.metronome?e.__stage.metronome:A.getInstance();var m=0,g=(new Date).getTime();return e[f]=function(t){this[i]=l(d,s,m/c),m=t-g,m>c&&(this[i]=s,u.removeListener(this,f),delete this[f],h.hasOwnProperty("onComplete")&&h.onComplete(),o.end())},u.addListener(e,f),h}},ca={run:function(e,i,s,n,a){var l,r=t.ref,o={object:e},h=n||500,c=s||B.lin();l=a?a:e.__stage&&e.__stage.metronome?e.__stage.metronome:A.getInstance(),s=0;var u,d={},f={};for(u in i)"string"==typeof i[u]?(n=i[u].replace(/ /g,""),n.indexOf("+")||(f[u]=e[u]+Number(n.substring(1,n.length)))):f[u]=i[u],d[u]=e[u],s++;i=s;var m=(new Date).getTime();for(u in f)s="change"+u,e[s]=function(t){var e=arguments.callee,i=e.p,s=e.updateFunctionName;this[i]=c(d[i],f[i],e.t/h),e.t=t-m,e.t>h&&(this[i]=f[i],l.removeListener(this,s),delete this[s],!e.propsCounter)&&(o.hasOwnProperty("onComplete")&&o.onComplete(),r.end())},e[s].p=u,e[s].t=0,e[s].propsCounter=--i,e[s].updateFunctionName=s,l.addListener(e,s);return o.stop=function(){for(u in f)l.removeListener(e,"change"+u)},o}},ya={osc:function(t,e,i){return t=t||3,e=e||1,i=i||2,function(s){return Math.pow(s-1,i)*Math.sin((2*t+1.5)*Math.PI*Math.pow(s,e))}}};sa.prototype={className:"Shift",superclassName:"Object",constructor:sa,get delta(){return this.__delta},get ratio(){return this.__ratio},get isPlayed(){return this.__isPlayed},update:function(){for(var t in this.__deltaInit)this.__object[t]+=this.__delta[t];for(t in this.__ratioInit)this.__object[t]*=this.__ratio[t]},play:function(){this.__isPlayed=!0,this.__efs.addListener(this,"update")},stop:function(){this.__efs.removeListener(this,"update"),this.__isPlayed=!1}},ta.prototype={className:"ShiftTimebased",superclassName:"Object",constructor:ta,get delta(){return this.__delta},get isPlayed(){return this.__isPlayed},update:function(t){var i,e=(t-this.__currentTimer)/this.__frameDuration;for(i in this.__deltaInit)this.__object[i]+=this.__delta[i]*e;this.__currentTimer=t},play:function(){this.__isPlayed||(this.__isPlayed=!0,this.__currentTimer=(new Date).getTime(),this.__efs.addListener(this,"update"))},stop:function(){this.__efs.removeListener(this,"update"),this.__isPlayed=!1}},ha.prototype={className:"Motion",superclassName:"Object",constructor:ha,get speed(){return this.__speed},get isPlayed(){return this.__isPlayed},update:function(t){var i,e=(t-this.__currentTimer)/1e3;for(i in this.__speedInit)this.__object[i]+=e*this.__speed[i];this.__currentTimer=t},play:function(){this.__isPlayed||(this.__isPlayed=!0,this.__currentTimer=(new Date).getTime(),this.__efs.addListener(this,"update"))},stop:function(){this.__efs.removeListener(this,"update"),this.__isPlayed=!1}},ua.prototype={className:"Motion2D",superclassName:"Object",constructor:ua,get speed(){return this.__speed},set speed(t){this.__speed=t,this.updateSpeedVector(this.__motion.speed,t,this.__angle)},get angle(){return 180*this.__angle/Math.PI},set angle(t){this.__angle=t*Math.PI/180,this.updateSpeedVector(this.__motion.speed,this.__speed,this.__angle)},get isPlayed(){return this.__motion.isPlayed},updateSpeedVector:function(t,e,i){t.x=e*Math.cos(i),t.y=e*Math.sin(i)},play:function(){this.__motion.play()},stop:function(){this.__motion.stop()}};var D={};D.sin=Math.sin,D.sinPro=function(t){if(0===t||0>t)return D.square;!t||isNaN(t)?t=.3:t>1&&(t=1/t);var e=Math.sqrt(t);return function(i){i=Math.sin(i);var s=Math.abs(i);return(0>i?-1:1)*(Math.pow(s,e)*Math.pow(s,t)+(1-Math.pow(s,e))*s)}},D.triangle=function(t){return 2/Math.PI*Math.asin(Math.sin(t))},D.square=function(t){return 0>Math.sin(t)?-1:1},D.noise=function(){return 2*Math.random()-1},D.pulsePro=function(t){if(0===t)return D.sin;t=!t||isNaN(t)||0>t?4:1+Math.ceil(t);var e=Math.PI/(2*t),i=2*Math.PI,s=2/(2-1/t);return function(n){return n%=i,e>n||n>i-e?Math.sin(t*n):Math.cos(s*n/2-e/s)}},D.pulse=D.pulsePro(),aa.prototype={className:"Swing",superclassName:"Object",constructor:aa,get isPlayed(){return this.__isPlayed},update:function(t){this.__object[this.__propName]=this.__propValue+this.amplitude*this.wave(this.phase+this.frequency*aa.K*(t-this.__startTime))},play:function(){this.__isPlayed||(this.__isPlayed=!0,void 0==this.__startTime?(this.__startTime=(new Date).getTime(),this.__object[this.__propName]=this.__propValue+this.amplitude*this.wave(this.phase)):this.__stopTime&&(this.__startTime+=(new Date).getTime()-this.__stopTime,this.__stopTime=0),this.__efs.addListener(this,"update"))},stop:function(){this.__stopTime=(new Date).getTime(),this.__efs.removeListener(this,"update"),this.__isPlayed=!1},reset:function(){this.__efs.removeListener(this,"update"),this.__isPlayed=!1,this.__startTime=this.__stopTime=void 0}},aa.K=Math.PI/500,ba.prototype={className:"CanvasContainer",superclassName:"CanvasLayer",constructor:ba,get children(){return this.__children},get isContainer(){return!0},setContext:function(t){this.__context=t;for(var e=this.__children,i=e.length;i--;)e[i].setContext(t)},setStage:function(t){this.__stage=t;for(var e=this.__children,i=e.length;i--;)e[i].setStage(t);this.onDisplayed&&t&&this.onDisplayed()},isolate:function(){this.parent=null,this.setContext(null),this.setStage(null)},prepareNewChild:function(t){this.removeChild(t),t.parent&&(t.parent.container==t?t.parent.container=null:t.parent.removeChild(t)),this.__context&&t.setContext(this.__context),t.parent=this,this.__stage&&t.setStage(this.__stage),t.onAdded&&t.onAdded()},canBeAdded:function(t){if("CanvasLayer"==t.superclassName){for(var e=this,i=this.__stage;e!=i;){if(e==t)return!1;e=e.parent}return!0}return!1},addChild:function(t){this.canBeAdded(t)&&(this.prepareNewChild(t),this.__children.push(t))},addRearChild:function(t){this.canBeAdded(t)&&(this.prepareNewChild(t),this.__children.unshift(t))},addChildOver:function(t,e){if(this.canBeAdded(t))for(var i=this.__children,s=i.length;s--;)if(i[s]==e){this.prepareNewChild(t),i.splice(s+1,0,t);break}},addChildUnder:function(t,e){if(this.canBeAdded(t))for(var i=this.__children,s=i.length;s--;)if(i[s]==e){this.prepareNewChild(t),i.splice(s,0,t);break}},removeChild:function(t){for(var e=this.__children,i=e.length;i--;)if(e[i]==t){t.isolate(),e.splice(i,1);break}},contains:function(t){for(t=t.parent;t&&t.isContainer;){if(t==this)return!0;t=t.parent}return!1},__copy:function(t,e){if(t.isContainer){var s,a,r,o,i=Q.call(t),n=2==arguments.length;n?(a=t,r=new L,r.set(t,i),o=[]):(a=arguments[2],r=arguments[3],o=arguments[4]);var h,c=t.children;for(i.__children=Array(c.length),s=c.length;s--;)h=this.__copy(c[s],e,a,r,o),h.parent=i,i.__children[s]=h,r.set(c[s],h);var l=t.masks;h=t.holes;var u;for(i.masks=Array(l.length),i.holes=Array(h.length),s=l.length;s--;)u=l[s],c=r.get(u.host),i.masks[s]=u.host==a||a.contains(u.host)?{shape:u.shape.copy(),host:c}:{shape:u.shape,host:u.host},c||o.push([i.masks[s],u]);for(s=h.length;s--;)l=h[s],c=r.get(l.host),i.holes[s]=l.host==a||a.contains(l.host)?{shape:l.shape.copy(),host:c}:{shape:l.shape,host:l.host},c||o.push([i.holes[s],l]);if(n){for(s=o.length;s--;)o[s][0].host=r.get(o[s][1].host);r.clear()}return i}return t.copy(e)},copy:function(t){return this.__copy(this,t)},__addShapeData:function(t,e,i){var s;e=e||this;for(var n=i.length;n--;)if(s=i[n],s.shape===t&&s.host===e)return;i.push({shape:t,host:e})},__removeShapeData:function(t,e,i){var s;e=e||this;for(var n=i.length;n--;)if(s=i[n],s.shape===t&&s.host===e){i.splice(n,1);break}},addMask:function(t,e){this.masks.length||(this.draw=this.holes.length?this.drawWithMasksAndHoles:this.drawWithMasks,this.getHitAsset=this.holes.length?this.getHitAssetWithMasksAndHoles:this.getHitAssetWithMasks),this.__addShapeData(t,e,this.masks)},removeMask:function(t,e){this.__removeShapeData(t,e,this.masks),this.masks.length||(this.draw=this.holes.length?this.drawWithHoles:this.drawNormal,this.getHitAsset=this.holes.length?this.getHitAssetWithHoles:this.getHitAssetNormal)},addHole:function(t,e){this.holes.length||(this.draw=this.masks.length?this.drawWithMasksAndHoles:this.drawWithHoles,this.getHitAsset=this.masks.length?this.getHitAssetWithMasksAndHoles:this.getHitAssetWithHoles),this.__addShapeData(t,e,this.holes)},removeHole:function(t,e){this.__removeShapeData(t,e,this.holes),this.holes.length||(this.draw=this.masks.length?this.drawWithMasks:this.drawNormal,this.getHitAsset=this.masks.length?this.getHitAssetWithMasks:this.getHitAssetNormal)},drawNormal:function(){var t=this.__context;t.save(),this.setMatrixAndAlpha(t),this.drawChildren(),t.restore()},drawWithMasks:function(){var t=this.__context;t.save(),this.setMatrixAndAlpha(t),this.buildMasks(t),this.drawChildren(),t.restore()},drawWithHoles:function(){var t=this.__context;t.save(),this.setMatrixAndAlpha(t),this.buildHoles(t,this.__stage.width,this.__stage.height),this.drawChildren(),t.restore()},drawWithMasksAndHoles:function(){var t=this.__context;t.save(),this.setMatrixAndAlpha(t),this.buildMasks(t),this.buildHoles(t,this.__stage.width,this.__stage.height),this.drawChildren(),t.restore()},getHitAssetNormal:function(t,e){for(var s,n,i=this.__children,a=i.length;a--;)if(s=i[a],s.isContainer){if(n=s.getHitAsset(t,e))break}else if(s.hitTest&&s.hitTest(t,e)){n=s;break}return n},getHitAssetWithMasks:function(t,e){var i=this.__context;return this.buildPaths(i,this.masks),i.isPointInPath(t,e)?this.getHitAssetNormal(t,e):!1},getHitAssetWithHoles:function(t,e){var i=this.__context;return this.buildPaths(i,this.holes),i.isPointInPath(t,e)?!1:this.getHitAssetNormal(t,e)},getHitAssetWithMasksAndHoles:function(t,e){var i=this.__context;return this.buildPaths(i,this.masks),i.isPointInPath(t,e)?(this.buildPaths(i,this.holes),i.isPointInPath(t,e)?!1:this.getHitAssetNormal(t,e)):!1},setMatrixAndAlpha:function(t){m.setTransform(t,this.matrixGlobal),t.globalAlpha*=this.alpha},buildPaths:function(t,e){var i,s,n;t.beginPath();for(var a=e.length;a--;)t.save(),i=e[a],s=i.shape,n=m.multiply(m.get(s.x,s.y,s.rotation,s.scaleX,s.scaleY),m.get(-s.originX,-s.originY,0,1,1)),m.setTransform(t,"global"==i.host?n:m.multiply(i.host.matrixGlobal,n)),s.build(t),t.restore();t.closePath()},buildMasks:function(t){this.buildPaths(t,this.masks),t.clip()},buildHoles:function(t,e,i){for(var s,n,a,r=this.holes.length;r--;)t.save(),t.beginPath(),t.save(),m.setTransform(t,m.GLOBAL),t.moveTo(0,0),t.lineTo(0,i),t.lineTo(e,i),t.lineTo(e,0),t.closePath(),t.restore(),s=this.holes[r],n=s.shape,a=m.multiply(m.get(n.x,n.y,n.rotation,n.scaleX,n.scaleY),m.get(-n.originX,-n.originY,0,1,1)),m.setTransform(t,"global"==s.host?a:m.multiply(s.host.matrixGlobal,a)),n.build(t),t.restore(),t.closePath(),t.clip()},calcOwnMatrices:function(){this.matrixLocal=m.multiply(m.get(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.get(-this.originX,-this.originY,0,1,1)),this.matrixGlobal=this.parent.matrixGlobal?m.multiply(this.parent.matrixGlobal,this.matrixLocal):this.matrixLocal},calc:function(){this.calcOwnMatrices();for(var t=this.__children,e=t.length;e--;)t[e].calc()},drawChildren:function(){for(var t=this.__children,e=t.length,i=0;e>i;i++)t[i].draw()}},ba.GLOBAL="global",ba.OWN_PROPS=p.concat(["draw","getHitAsset"]),F.prototype={className:"CanvasComposition",constructor:F,set listenGestures(t){t?(this.addDomGestureListeners(),this.metronome.addListener(this,"processGestures",!0),this.__listenGestures=!0):(this.removeDomGestureListeners(),this.metronome.removeListener(this,"processGestures"),this.__listenGestures=!1)},markHitContainers:function(t){t=t.parent,t.isContainer&&(t.hasHitAsset=!0,this.hitContainers.push(t),this.markHitContainers(t))},markDownContainers:function(t){t=t.parent,t.isContainer&&(t.hasDownAsset=!0,this.downContainers.push(t),this.markDownContainers(t))},markOutContainers:function(t){(t=t.parent)&&t.isContainer&&(t.hasOutAsset=!0,this.outContainers.push(t),this.markOutContainers(t))},unmarkHitContainers:function(){for(var t=this.hitContainers.length;t--;)this.hitContainers[t].hasHitAsset=!1},unmarkDownContainers:function(){for(var t=this.downContainers.length;t--;)this.downContainers[t].hasDownAsset=!1},unmarkOutContainers:function(){for(var t=this.outContainers.length;t--;)this.outContainers[t].hasOutAsset=!1},processGestures:function(){if(this.__gestureOccured){var e,t=this.gesturePoint,t=this.__container.getHitAsset(t.x,t.y);t?(this.markHitContainers(t),this.dispatchGestureGroup(t,t,this.gestures.group1),this.gestures.group1.mouseDown&&(e=t,this.markDownContainers(t)),this.gestures.group2.mouseOver&&t!=this.hitAsset&&(this.hitAsset?(this.markOutContainers(this.hitAsset),this.gestures.group2.mouseOut&&this.dispatchGestureOut(this.hitAsset,this.hitAsset,"mouseOut"),this.dispatchGestureOver(t,t,"mouseOver")):this.dispatchGesture(t,t,"mouseOver"),this.isDown&&this.dispatchGestureOver(t,t,"dragOver")),this.gestures.group1.mouseUp&&(t==this.downAsset?this.dispatchGesture(t,t,"click"):this.downAsset&&(this.dispatchGestureClick(null,t,"click"),this.dispatchGestureReleaseOutside(this.downAsset,this.downAsset,"releaseOutside"))),this.gestures.group1.mouseMove&&(t==this.downAsset?this.dispatchGesture(t,t,"drag"):this.isDown&&t!=this.hitAsset&&this.hitAsset&&(this.hitAsset==this.downAsset?this.dispatchGestureOut(this.hitAsset,this.hitAsset,"dragOutThis"):this.dispatchGestureDragOutThis(null,this.hitAsset,"dragOutThis"),this.dispatchGestureOut(this.hitAsset,this.hitAsset,"dragOut")))):(this.gestures.group2.mouseOut&&this.hitAsset&&(this.dispatchGesture(this.hitAsset,this.hitAsset,"mouseOut"),this.isDown&&(this.hitAsset==this.downAsset?this.dispatchGestureOut(this.hitAsset,this.hitAsset,"dragOutThis"):this.dispatchGestureDragOutThis(null,this.hitAsset,"dragOutThis"),this.dispatchGestureOut(this.hitAsset,this.hitAsset,"dragOut"))),this.gestures.group1.mouseUp&&this.downAsset&&this.dispatchGesture(this.downAsset,this.downAsset,"releaseOutside")),this.hitAsset=t,this.gestures.group1.mouseUp?(this.unmarkDownContainers(),this.downContainers=[],this.downAsset=void 0):e&&(this.downAsset=e),this.unmarkHitContainers(),this.hitContainers=[],this.unmarkOutContainers(),this.outContainers=[],this.__gestureOccured=!1,this.__touchEndOccured&&(this.gesturePoint={x:void 0,y:void 0},this.__touchEndOccured=!1),this.gestures={group1:{},group2:{},group3:{}}}},dispatchGestureGroup:function(t,e,i){var s=e.parent;if(s){for(var n in i)e.dispatchEvent(n,{target:t});s.isContainer&&this.dispatchGestureGroup(t,s,i)}},dispatchGesture:function(t,e,i){var s=e.parent;s&&(e.dispatchEvent(i,{target:t}),s.isContainer&&this.dispatchGesture(t,s,i))},dispatchGestureOver:function(t,e,i){var s=e.parent;s&&(e.dispatchEvent(i,{target:t}),s.isContainer&&!s.hasOutAsset&&this.dispatchGestureOver(t,s,i))},dispatchGestureOut:function(t,e,i){var s=e.parent;s&&(e.dispatchEvent(i,{target:t}),s.isContainer&&!s.hasHitAsset&&this.dispatchGestureOut(t,s,i))},dispatchGestureDragOutThis:function(t,e,i){(e=e.parent)&&e.isContainer&&(e.hasDownAsset&&!e.hasHitAsset&&(t||(t=e),e.dispatchEvent(i,{target:t})),this.dispatchGestureDragOutThis(t,e,i))},dispatchGestureClick:function(t,e,i){(e=e.parent)&&e.isContainer&&(e.hasDownAsset&&(t||(t=e),e.dispatchEvent(i,{target:t})),this.dispatchGestureClick(t,e,i))},dispatchGestureReleaseOutside:function(t,e,i){var s=e.parent;s&&(e.isContainer&&!e.hasHitAsset||t==e)&&(e.dispatchEvent(i,{target:t}),this.dispatchGestureReleaseOutside(t,s,i))},getMousePoint:function(t){var e=this.__canvas.getBoundingClientRect();return{x:this.pixelRatio*(t.clientX-e.left),y:this.pixelRatio*(t.clientY-e.top)}},getTouchPoint:function(t){t.preventDefault();var e=this.__canvas.getBoundingClientRect();return t=t.targetTouches[0],{x:this.pixelRatio*(t.clientX-e.left),y:this.pixelRatio*(t.clientY-e.top)}},saveDownTime:function(){this.__downTime=(new Date).getTime()},detectFastClick:function(t){(new Date).getTime()-this.__downTime<this.fastClickTime&&t.currentTarget.dispatchEvent("fastClick",{target:t.target})},listenFastClickOn:function(t,e){1==arguments.length||e?(t.addEventListener("mouseDown",this,"saveDownTime"),t.addEventListener("click",this,"detectFastClick")):(t.removeEventListener("mouseDown",this,"saveDownTime"),t.removeEventListener("click",this,"detectFastClick"))},listenMouseMotion:function(t){t.currentTarget.addEventListener("mouseMove",this,"detectMouseMotion"),t.currentTarget.addEventListener("mouseOut",this,"detectMouseMotion"),this.__clickWithoutMouseMotion=!0},detectMouseMotion:function(t){t.currentTarget.removeEventListener("mouseMove",this,"detectMouseMotion"),t.currentTarget.removeEventListener("mouseOut",this,"detectMouseMotion"),this.__clickWithoutMouseMotion=!1},detectPointClick:function(t){t.currentTarget.removeEventListener("mouseMove",this,"detectMouseMotion"),this.__clickWithoutMouseMotion&&t.currentTarget.dispatchEvent("pointClick",{target:t.target})},listenPointClickOn:function(t,e){1==arguments.length||e?(t.addEventListener("mouseDown",this,"listenMouseMotion"),t.addEventListener("click",this,"detectPointClick")):(t.removeEventListener("mouseDown",this,"listenMouseMotion"),t.removeEventListener("click",this,"detectPointClick"))},detectDbClick:function(t){for(var s,e=!1,i=t.currentTarget,n=(new Date).getTime(),a=this.__dbClickCandidates.length;a--;)if(this.__dbClickCandidates[a].layer===i){s=a,e=!0;break}e?n-this.__dbClickCandidates[s].downTime<this.dbClickTime?(i.dispatchEvent("dbClick",{target:t.target}),this.__dbClickCandidates.splice(s,1)):this.__minDbClickDownTime=this.__dbClickCandidates[s].downTime=n:(n-this.__minDbClickDownTime>this.dbClickTime&&(this.__minDbClickDownTime=n,this.__dbClickCandidates.length=0),this.__dbClickCandidates.push({layer:i,downTime:n}))},listenDbClickOn:function(t,e){1==arguments.length||e?t.addEventListener("mouseDown",this,"detectDbClick"):t.removeEventListener("mouseDown",this,"detectDbClick")},get canvasID(){return this.__canvasID},set canvasID(t){this.canvas=document.getElementById(t)},get canvas(){return this.__canvas},set canvas(t){if(this.__canvas!==t){this.__canvas&&(this.__canvas.width=this.__width,F.__instanceByCanvas.delete(this.__canvas));var e=F.__instanceByCanvas.get(t);e&&e.isolate(),this.__canvasID=t.id,this.__canvas=t,this.__context=t.getContext("2d"),this.__width=t.width,this.__height=t.height,this.__container&&(this.__container.setContext(this.__context),this.__container.parent=this,this.__container.setStage(this)),F.__instanceByCanvas.set(t,this)}},get container(){return this.__container},set container(t){this.__container&&this.__container.isolate(),t.isContainer&&(this.__context&&t.setContext(this.__context),t.parent=this,this.__container=t,t.setStage(this))},get width(){return this.__width},set width(t){this.__width=this.__canvas.width=t},get height(){return this.__height},set height(t){this.__height=this.__canvas.height=t},get metronome(){return this.__metronome},set metronome(t){this.__metronome&&this.__metronome.removeUpdateListener(this,"draw"),t.addUpdateListener(this,"draw"),this.__metronome=t},get cornerRadius(){return this.__cornerRadius},set cornerRadius(t){if(t>0){var e=document.createElement("canvas");e.width=e.height=t;var i=e.getContext("2d");i.fillStyle="rgb(0,0,0)",i.beginPath(),i.moveTo(0,0),i.lineTo(t,0),i.arcTo(0,0,0,t,t),i.lineTo(0,0),i.fill(),this.__cornerTL=e,e=document.createElement("canvas"),e.width=e.height=t,i=e.getContext("2d"),i.fillStyle="rgb(0,0,0)",i.beginPath(),i.moveTo(0,0),i.lineTo(t,0),i.lineTo(t,t),i.arcTo(t,0,0,0,t),i.fill(),this.__cornerTR=e,e=document.createElement("canvas"),e.width=e.height=t,i=e.getContext("2d"),i.fillStyle="rgb(0,0,0)",i.beginPath(),i.moveTo(t,0),i.lineTo(t,t),i.lineTo(0,t),i.arcTo(t,t,t,0,t),i.fill(),this.__cornerBR=e,e=document.createElement("canvas"),e.width=e.height=t,i=e.getContext("2d"),i.fillStyle="rgb(0,0,0)",i.beginPath(),i.moveTo(0,0),i.lineTo(0,t),i.lineTo(t,t),i.arcTo(0,t,0,0,t),i.fill(),this.__cornerBL=e,this.__cornerRadius=t}},drawNormal:function(){if(this.__canvas.width=this.__width,this.__container.calc(),this.__container.draw(),this.listenPassiveGestures&&(this.__gestureOccured=!0,this.gestures.group2.mouseOver=!0,this.gestures.group2.mouseOut=!0),this.__cornerRadius){var t=this.__canvas.width,e=this.__canvas.height,i=this.__cornerRadius;this.__context.save(),this.__context.globalCompositeOperation="destination-out",this.__context.drawImage(this.__cornerTL,0,0),this.__context.drawImage(this.__cornerTR,t-i,0),this.__context.drawImage(this.__cornerBR,t-i,e-i),this.__context.drawImage(this.__cornerBL,0,e-i),this.__context.restore()}},drawTweenSize:function(){this.__canvas.height=this.__height,this.drawNormal()},tweenSize:function(e,i,s,n,a){this.draw=this.drawTweenSize;var r=this,o={},h={},c=t.ref;return isNaN(e)||(o.__width=e),isNaN(i)||(o.__height=i),ca.run(this,o,s,n,a||this.metronome).onComplete=function(){r.draw=r.drawNormal,h.hasOwnProperty("onComplete")&&h.onComplete(),c.end()},h},isolate:function(){this.__canvas.width=this.__width,F.__instanceByCanvas.delete(this.__canvas),this.__container&&this.__container.isolate(),this.__canvasID=this.__canvas=this.__context=this.__width=null},$:function(){this.__metronome.ensureNextTickUpdate()}},function(){var t=document.createElement("canvas");t.width=t.height=1,F.PIXEL=t.getContext("2d")}(),F.__instanceByCanvas=new H,va.prototype={className:"CanvasCompositionWrapper",superclassName:"Object",constructor:va,get stage(){return this.__stage},set stage(t){t.canvas=this.canvas,t.pixelRatio=this.pixelRatio,this.__stage=t,this.resize()},resize:function(){var t=this.__stage;t.width=this.pixelRatio*this.webElement.clientWidth,t.height=this.pixelRatio*this.webElement.clientHeight,t.$()}},ia.prototype={className:"ImageLayer",superclassName:"CanvasLayer",constructor:ia,get src(){return this.image.src},set src(e){function i(){n.draw=n.drawImage,n.sx=n.sx&&0<n.sx&&n.sx<a.width?n.sx:0,n.sy=n.sy&&0<n.sy&&n.sy<a.height?n.sy:0,n.width=n.sw=n.sw&&n.sw<=a.width-n.sx&&0<n.sw?n.sw:a.width-n.sx,n.height=n.sh=n.sh&&n.sh<=a.height-n.sy&&0<n.sh?n.sh:a.height-n.sy,this.isLoading=!1,n.hasOwnProperty("onLoad")&&n.onLoad(),n.dispatchEvent("load"),s.end()}var a,s=t.ref,n=this;e instanceof Image?(a=this.image=e,a.complete?i():a.onload=i):e instanceof HTMLCanvasElement?(a=this.image=e,i()):(this.isLoading=!0,a=this.image=new Image,a.onload=i,a.src=parseURL(e))},load:function(t){this.src=parseURL(t)},setContext:function(t){this.__context=t},setStage:function(t){this.__stage=t,this.onDisplayed&&t&&this.onDisplayed()},calc:function(){this.matrixLocal=m.get(this.x,this.y,this.rotation,this.scaleX,this.scaleY),this.matrixGlobal=m.multiply(this.parent.matrixGlobal,this.matrixLocal)
},calcOwnMatrices:this.calc,drawImage:function(){var t=this.__context;t.save(),m.setTransform(t,this.matrixGlobal),t.globalAlpha*=this.alpha,t.drawImage(this.image,this.sx,this.sy,this.sw,this.sh,-this.originX,-this.originY,this.width,this.height),t.restore()},drawNothing:function(){},isolate:function(){this.__context=this.__stage=this.parent=null},copy:function(t){var e=Q.call(this);if(this.isLoading)e.load(this.src);else if(t&&!this.image){var i=this;this.addEventListener("load",function(){e.load(i.src)})}return e},hitTest:function(t,e){var i=this.__context;m.setTransform(i,this.matrixGlobal),i.beginPath(),i.rect(-this.originX,-this.originY,this.width,this.height);var s=i.isPointInPath(t,e);return i.closePath(),s&&this.useDeepHitTest&&(i=F.PIXEL,i.save(),m.setMovedTransform(i,this.matrixGlobal,-t,-e),i.drawImage(this.image,this.sx,this.sy,this.sw,this.sh,-this.originX,-this.originY,this.width,this.height),s=Boolean(i.getImageData(0,0,1,1).data[3]),i.restore(),s&&i.clearRect(0,0,2,2)),s}},ia.OWN_PROPS=p.concat("image draw width height sx sy sw sh useDeepHitTest isLoading".split(" ")),ja.prototype={className:"AtlasImageLayer",superclassName:"CanvasLayer",constructor:ja,get imageName(){return this.__imageName},set imageName(t){if(this.__atlasData&&this.__atlasData.loaded){var e=this.__atlasData.frames[t];e&&(this.width=e.frame.w,this.height=e.frame.h)}this.__imageName=t},get atlasData(){return this.__atlasData},set atlasData(t){if(this.__imageName&&t.loaded){var e=t.frames[this.__imageName];e&&(this.width=e.frame.w,this.height=e.frame.h)}this.__atlasData=t},setContext:function(t){this.__context=t},setStage:function(t){this.__stage=t,this.onDisplayed&&t&&this.onDisplayed()},calc:function(){this.matrixLocal=m.get(this.x,this.y,this.rotation,this.scaleX,this.scaleY),this.matrixGlobal=m.multiply(this.parent.matrixGlobal,this.matrixLocal)},calcOwnMatrices:this.calc,drawImage:function(){var t=this.__context;t.save(),m.setTransform(t,this.matrixGlobal),t.globalAlpha*=this.alpha;var e=this.__atlasData.frames[this.__imageName].frame;t.drawImage(this.__atlasData.image,e.x,e.y,e.w,e.h,-this.originX,-this.originY,this.width,this.height),t.restore()},drawNothing:function(){},isolate:function(){this.__context=this.__stage=this.parent=null},copy:Q,hitTest:function(t,e){var i=this.__context;m.setTransform(i,this.matrixGlobal),i.beginPath(),i.rect(-this.originX,-this.originY,this.width,this.height);var s=i.isPointInPath(t,e);return i.closePath(),s&&this.useDeepHitTest&&(i=F.PIXEL,i.save(),m.setMovedTransform(i,this.matrixGlobal,-t,-e),s=this.__atlasData.frames[this.__imageName].frame,i.drawImage(this.__atlasData.image,s.x,s.y,s.w,s.h,-this.originX,-this.originY,this.width,this.height),s=Boolean(i.getImageData(0,0,1,1).data[3]),i.restore(),s&&i.clearRect(0,0,2,2)),s}},ja.OWN_PROPS=p.concat("draw width height __atlasData __imageName useDeepHitTest".split(" ")),ka.prototype={className:"AtlasFilmLayer",superclassName:"CanvasLayer",constructor:ka,get totalFrames(){return this.__totalFrames},setContext:function(t){this.__context=t},setStage:function(t){this.__stage=t,this.onDisplayed&&t&&this.onDisplayed()},get fps(){return this.__fps},set fps(t){isNaN(t)||0>=t?this.isPlayed&&this.__fps?(this.__stopChangingIndex(),this.__fps=0,this.__startChangingIndex()):this.__fps=0:this.isPlayed?this.__fps?(this.__fpsTimer.delay=1e3/t,this.__fps=t):(this.__stopChangingIndex(),this.__fps=t,this.__startChangingIndex()):this.__fps=t},loseQueue:function(){this.queue=t.REF_DEFAULT},setNextIndex:function(){this.frameIndex=this.frameIndex<this.__totalFrames-1?this.frameIndex+1:0},setPrevIndex:function(){this.frameIndex=this.frameIndex?this.frameIndex-1:this.__totalFrames-1},setNextIndexStretch:function(){--this.__stretchCount||(this.__stretchCount=this.__stretchRatio,this.setNextIndex())},setPrevIndexStretch:function(){--this.__stretchCount||(this.__stretchCount=this.__stretchRatio,this.setPrevIndex())},handleDestinationFrameTo:function(){if(this.__removeInTheEnd){var t=this.__stage;this.parent.removeChild(this),t.$()}else this.__stopChangingIndex();this.queue.end()},setNextIndexTo:function(){this.frameIndex==this.__destinationFrameIndex?this.handleDestinationFrameTo():this.setNextIndex()},setPrevIndexTo:function(){this.frameIndex==this.__destinationFrameIndex?this.handleDestinationFrameTo():this.setPrevIndex()},setNextIndexToStretch:function(){--this.__stretchCount||(this.__stretchCount=this.__stretchRatio,this.setNextIndexTo())},setPrevIndexToStretch:function(){--this.__stretchCount||(this.__stretchCount=this.__stretchRatio,this.setPrevIndexTo())},handleDestinationFrameFromTo:function(){0===this.__repeatsNumber||--this.__repeatsNumber?this.frameIndex=this.__startIndex:this.handleDestinationFrameTo()},setNextIndexFromTo:function(){this.frameIndex==this.__destinationFrameIndex?this.handleDestinationFrameFromTo():this.setNextIndex()},setPrevIndexFromTo:function(){this.frameIndex==this.__destinationFrameIndex?this.handleDestinationFrameFromTo():this.setPrevIndex()},setNextIndexFromToStretch:function(){--this.__stretchCount||(this.__stretchCount=this.__stretchRatio,this.setNextIndexFromTo())},setPrevIndexFromToStretch:function(){--this.__stretchCount||(this.__stretchCount=this.__stretchRatio,this.setPrevIndexFromTo())},nextFrame:function(){this.__stage&&this.frameIndex<this.__totalFrames-1&&(this.frameIndex++,this.__stage.$())},prevFrame:function(){this.__stage&&this.frameIndex&&(this.frameIndex--,this.__stage.$())},__delayedStartChangingIndex:function(){this.__stage.metronome.addListener(this,this.__changeIndexMethodName),this.__stage.metronome.removeListener(this,"__delayedStartChangingIndex")},__noNewIndexInThisFrame:function(){this[this.__changeIndexMethodName]=this.__changeIndexBufferMethod},__startChangingIndex:function(){this.matrixLocal||(this.__changeIndexBufferMethod=this[this.__changeIndexMethodName],this[this.__changeIndexMethodName]=this.__noNewIndexInThisFrame),this.__fps?this.isPlayed||(this.__fpsTimer=this.__stage.metronome.addTimerListener(this,this.__changeIndexMethodName,1e3/this.__fps)):this.__stage.metronome.addListener(this,this.__changeIndexMethodName),this.isPlayed=!0},__stopChangingIndex:function(){this.__fps?(this.__stage.metronome.removeListener(this.__fpsTimer),this.__fpsTimer=null):this.__stage.metronome.removeListener(this,this.__changeIndexMethodName),this.isPlayed=!1},__startPlayback:function(t){this.loseQueue(),t?(this.__stretchRatio=isNaN(t.stretch)&&1>t.stretch?1:Math.ceil(t.stretch),1<this.__stretchRatio?(this.__stretchCount=this.__stretchRatio,t=!0===t.reverse?"setPrevIndexStretch":"setNextIndexStretch"):t=!0===t.reverse?"setPrevIndex":"setNextIndex"):t="setNextIndex",this.isPlayed&&this.__changeIndexMethodName!=t&&this.__stopChangingIndex(),this.__changeIndexMethodName=t,this.__startChangingIndex()},play:function(t){this.__stage&&this.__startPlayback(t)},playFrom:function(t,e){this.__stage&&(this.frameIndex=t,this.__startPlayback(e))},playTo:function(e,i){if(this.__stage){this.queue=t.ref;var s=this.frameIndex;i?(this.__removeInTheEnd=i.remove,this.__stretchRatio=isNaN(i.stretch)&&1>i.stretch?1:Math.ceil(i.stretch),1<this.__stretchRatio?(this.__stretchCount=this.__stretchRatio,s=s>e&&!1!==i.reverse||e>s&&!0===i.reverse?"setPrevIndexToStretch":"setNextIndexToStretch"):s=s>e&&!1!==i.reverse||e>s&&!0===i.reverse?"setPrevIndexTo":"setNextIndexTo"):(this.__removeInTheEnd=!1,this.__stretchRatio=1,s=s>e?"setPrevIndexTo":"setNextIndexTo"),this.isPlayed&&this.__changeIndexMethodName!=s&&this.__stopChangingIndex(),this.__changeIndexMethodName=s,this.__destinationFrameIndex=e,this.__startChangingIndex()}},playToTheEnd:function(t){this.playTo(this.__totalFrames-1,t)},playToTheBeginning:function(t){this.playTo(0,t)},playFromTo:function(e,i,s){this.__stage&&(this.queue=t.ref,this.frameIndex=this.__startIndex=e,s?(this.__removeInTheEnd=s.remove,this.__repeatsNumber=isNaN(s.repeats)?1:Math.ceil(Math.abs(s.repeats)),this.__stretchRatio=isNaN(s.stretch)&&1>s.stretch?1:Math.ceil(s.stretch),1<this.__stretchRatio?(this.__stretchCount=this.__stretchRatio,e=e>i&&!1!==s.reverse||i>e&&!0===s.reverse?"setPrevIndexFromToStretch":"setNextIndexFromToStretch"):e=e>i&&!1!==s.reverse||i>e&&!0===s.reverse?"setPrevIndexFromTo":"setNextIndexFromTo"):(this.__removeInTheEnd=!1,this.__stretchRatio=this.__repeatsNumber=1,e=e>i?"setPrevIndexFromTo":"setNextIndexFromTo"),this.isPlayed&&this.__changeIndexMethodName!=e&&this.__stopChangingIndex(),this.__changeIndexMethodName=e,this.__destinationFrameIndex=i,this.__startChangingIndex())},stop:function(){this.__stage&&(this.loseQueue(),this.isPlayed&&this.__stopChangingIndex())},"goto":function(t){this.__stage&&(this.loseQueue(),this.__stopChangingIndex(),this.frameIndex=t,this.__stage.$())},calc:function(){this.matrixLocal=m.get(this.x,this.y,this.rotation,this.scaleX,this.scaleY),this.matrixGlobal=m.multiply(this.parent.matrixGlobal,this.matrixLocal)},calcOwnMatrices:this.calc,drawFrame:function(){var t=this.__context;t.save(),m.setTransform(t,this.matrixGlobal),t.globalAlpha*=this.alpha;var e=this.__atlasData.frames[this.__atlasFilmData.frames[this.frameIndex]];if(e){var i=e.frame,e=e.spriteSourceSize;t.drawImage(this.__atlasData.image,i.x,i.y,i.w,i.h,e.x-this.originX,e.y-this.originY,i.w,i.h),this.frameWidth=i.w,this.frameHeight=i.h,this.frameTrimTop=e.y,this.frameTrimLeft=e.x}t.restore()},drawNothing:function(){},isolate:function(){this.__wasPlayingBeforeRemoving=this.isPlayed,this.stop(),this.matrixLocal=void 0,this.__context=this.__stage=this.parent=null},onDisplayed:function(){this.__wasPlayingBeforeRemoving&&this.__startChangingIndex()},copy:function(){var t=new this.constructor(this.__atlasData,this.__atlasFilmData),e=this.constructor.OWN_PROPS;for(i=e.length;i--;)t[e[i]]=this[e[i]];t.listeners={};for(var s in this.listeners)t.listeners[s]=this.listeners[s].slice();return(e=ra.of(this))&&e.addTo(t),this.isPlayed&&(t.__wasPlayingBeforeRemoving=!0),t},set atlasData(t){this.__atlasData=t},get atlasData(){return this.__atlasData},set atlasFilmData(t){this.__totalFrames=t&&t.frames?t.frames.length:void 0,this.__atlasFilmData=t},get atlasFilmData(){return this.__atlasFilmData},hitTest:function(t,e){var i=this.__context;m.setTransform(i,this.matrixGlobal),i.beginPath(),i.rect(this.frameTrimLeft-this.originX,this.frameTrimTop-this.originY,this.frameWidth,this.frameHeight);var s=i.isPointInPath(t,e);if(i.closePath(),s&&this.useDeepHitTest){var n=this.__atlasData.frames[this.__atlasFilmData.frames[this.frameIndex]];n&&(i=F.PIXEL,i.save(),m.setMovedTransform(i,this.matrixGlobal,-t,-e),s=n.frame,i.drawImage(this.__atlasData.image,s.x,s.y,s.w,s.h,this.frameTrimLeft-this.originX,this.frameTrimTop-this.originY,this.frameWidth,this.frameHeight),s=Boolean(i.getImageData(0,0,1,1).data[3]),i.restore(),s&&i.clearRect(0,0,2,2))}return s}},ka.OWN_PROPS=p.concat("__atlasData __atlasFilmData __totalFrames __autoRemove __changeIndexMethodName __startIndex __destinationFrameIndex __removeInTheEnd __repeatsNumber __stretchRatio __stretchCount frameWidth frameHeight __wasPlayingBeforeRemoving frameTrimTop frameTrimLeft frameIndex draw useDeepHitTest __fps".split(" ")),O.prototype={className:"StyleObject",superclassName:"Object",constructor:O,clone:function(){return new O(this.props)},mix:function(t,e,i){3>arguments.length&&2>arguments.length&&(e=!0);var a,r,o,s=this.props,n=t.props;if(i)for(a in n)r=s[a],e?(void 0!=o&&null!=o||!s.hasOwnProperty(a))&&(s[a]=o):(void 0==r||null==r)&&(s[a]=o);else for(a in n)s.hasOwnProperty(a)&&(r=s[a],o=n[a],e?void 0!=o&&null!=o&&(s[a]=o):(void 0==r||null==r)&&(s[a]=o))},setValue:function(t){var e=this.props;t=t.props;for(var i in e)e[i]==t.hasOwnProperty(i)?t[i]:void 0}},O.getDefaultTextStyle=function(){return new O({font:"sans-serif",size:12,color:"rgba(0,0,0,1)",align:"start",baseline:"hanging",bold:!1,italic:!1,strokeWidth:0,strokeColor:"rgba(0,0,0,1)",strokeCap:"butt",strokeJoin:"miter",strokeMiterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0,0,0,0)"})},J.prototype={className:"TextLayer",superclassName:"CanvasLayer",constructor:J,get text(){return this.__text},set text(t){this.__text=t,this.calculateText(),this.measureWidth(),this.measureHeight()},get font(){return this.__style.props.font},set font(t){this.__style.props.font=t,this.__textWidth&&this.__text.length&&this.calculateText(),this.measureWidth(),this.measureHeight()},get size(){return this.__style.props.size},set size(t){this.__style.props.size=t,this.__textWidth&&this.__text.length&&this.calculateText(),this.measureWidth(),this.measureHeight()},get bold(){return this.__style.props.bold},set bold(t){this.__style.props.bold=t,this.__boldItalic=(t?"bold ":"")+(this.__style.props.italic?"italic ":""),this.__textWidth&&this.__text.length&&this.calculateText(),this.measureWidth(),this.measureHeight()},get italic(){return this.__style.props.italic},set italic(t){this.__style.props.italic=t,this.__boldItalic=(this.__style.props.bold?"bold ":"")+(t?"italic ":""),this.__textWidth&&this.__text.length&&this.calculateText(),this.measureWidth(),this.measureHeight()},get align(){return this.__style.props.align},set align(t){this.__style.props.align=t,this.__textWidth&&this.__text.length&&this.calculateText(),this.measureWidth(),this.measureHeight()},get baseline(){return this.__style.props.baseline},set baseline(t){this.__style.props.baseline=t},get strokeWidth(){return this.__style.props.strokeWidth},set strokeWidth(t){this.__style.props.strokeWidth=t},get strokeCap(){return this.__style.props.strokeCap},set strokeCap(t){this.__style.props.strokeCap=t},get strokeJoin(){return this.__style.props.strokeJoin},set strokeJoin(t){this.__style.props.strokeJoin=t},get strokeMiterLimit(){return this.__style.props.strokeMiterLimit},set strokeMiterLimit(t){this.__style.props.strokeMiterLimit=t},get shadowOffsetX(){return this.__style.props.shadowOffsetX},set shadowOffsetX(t){this.__style.props.shadowOffsetX=t},get shadowOffsetY(){return this.__style.props.shadowOffsetY},set shadowOffsetY(t){this.__style.props.shadowOffsetY=t},get shadowBlur(){return this.__style.props.shadowBlur},set shadowBlur(t){this.__style.props.shadowBlur=t},get lineSpacing(){return this.__lineSpacing},set lineSpacing(t){this.__lineSpacing=t,this.measureHeight()},get multiline(){return this.__multiline},set multiline(t){this.__textWidth?(this.measureWidth=this.measureBoundedWidth,t?(this.measureHeight=this.measureMultilineHeight,this.calculateText=this.calculateBoundedMultiline,this.fill=this.fillMultiline,this.stroke=this.strokeMultiline,!this.__multiline&&this.__text.length&&this.calculateText()):(this.measureHeight=this.measureLineHeight,this.calculateText=this.calculateBoundedLine,this.fill=this.fillBoundedLine,this.stroke=this.strokeBoundedLine)):t?(this.measureWidth=this.measureMultilineWidth,this.measureHeight=this.measureMultilineHeight,this.calculateText=this.calculateMultiline,this.fill=this.fillMultiline,this.stroke=this.strokeMultiline,!this.__multiline&&this.__text.length&&this.calculateText()):(this.measureWidth=this.measureLineWidth,this.measureHeight=this.measureLineHeight,this.calculateText=la,this.fill=this.fillLine,this.stroke=this.strokeLine),this.__multiline=t,this.measureWidth(),this.measureHeight()},get textWidth(){return this.__width},set textWidth(t){var e=this.__textWidth;this.__textWidth=isNaN(t)?0:Math.abs(t),this.__multiline?(this.measureHeight=this.measureMultilineHeight,this.fill=this.fillMultiline,this.stroke=this.strokeMultiline,t?(this.measureWidth=this.measureBoundedWidth,this.calculateText=this.calculateBoundedMultiline,this.__text.length&&this.calculateText()):(this.measureWidth=this.measureMultilineWidth,this.calculateText=this.calculateMultiline,e&&this.__text.length&&this.calculateText())):(this.measureHeight=this.measureLineHeight,t?(this.measureWidth=this.measureBoundedWidth,this.calculateText=this.calculateBoundedLine,this.fill=this.fillBoundedLine,this.stroke=this.strokeBoundedLine,this.__text.length&&this.calculateText()):(this.measureWidth=this.measureLineWidth,this.calculateText=la,this.fill=this.fillLine,this.stroke=this.strokeLine)),this.measureWidth(),this.measureHeight()},get textHeight(){return this.__height},get style(){var t=this.__style.props;return t.color=this.color,t.strokeColor=this.strokeColor,t.shadowColor=this.shadowColor,this.__style},set style(t){this.__style.setValue(t),this.color=this.__style.props.color,this.strokeColor=this.__style.props.strokeColor,this.shadowColor=this.__style.props.shadowColor,this.__textWidth&&this.calculateText(),this.measureWidth(),this.measureHeight()},addStyle:function(t,e){this.__style.mix(t,e,!1),this.__textWidth&&this.calculateText(),this.measureWidth(),this.measureHeight()},setupStroke:function(t){t.lineWidth=this.__style.props.strokeWidth,t.lineJoin=this.__style.props.strokeJoin,t.strokeStyle=this.strokeColor},fillLine:function(t){t.fillText(this.__text,-this.originX,-this.originY)},strokeLine:function(t){this.__style.props.strokeWidth&&(this.setupStroke(t),t.strokeText(this.__text,-this.originX,-this.originY))},fillBoundedLine:function(t){t.fillText(this.lines[0],-this.originX,-this.originY)},strokeBoundedLine:function(t){this.__style.props.strokeWidth&&(this.setupStroke(t),t.strokeText(this.lines[0],-this.originX,-this.originY))},fillMultiline:function(t){for(var e=0,i=this.lines.length;i>e;e++)t.fillText(this.lines[e],-this.originX,e*this.__lineSpacing-this.originY)},strokeMultiline:function(t){this.setupStroke(t);for(var e=0,i=this.lines.length;i>e;e++)t.strokeText(this.lines[e],-this.originX,e*this.__lineSpacing-this.originY)},measureBoundedWidth:function(){this.__width=this.__textWidth},measureLineWidth:function(){var t=J.RULER;this.prepareMeasureWidth(t),this.__width=t.measureText(this.__text).width,t=this.align,this.__alignOffsetX="start"==t||"left"==t?0:"center"==t?-this.__width/2:-this.__width},measureMultilineWidth:function(){var t=J.RULER;this.prepareMeasureWidth(t);for(var e=this.__width=0,i=this.lines.length;i>e;e++)this.__width=Math.max(this.__width,t.measureText(this.lines[e]).width);this.measureAlignOffsetX(this.align)},measureAlignOffsetX:function(t){this.__alignOffsetX="start"==t||"left"==t?0:"center"==t?-this.__width/2:-this.__width},prepareMeasureWidth:function(t){t.font=this.__boldItalic+this.__style.props.size+"px "+this.__style.props.font,t.textAlign=this.__style.props.align,t.textBaseline=this.__style.props.baseline},measureLineHeight:function(){this.__height=1.03*this.size},measureMultilineHeight:function(){this.__height=this.__lineSpacing*(this.lines.length-1)+1.03*this.size},calculateBoundedLine:function(){var t=J.RULER;this.lines.length=1,this.lines[0]="";var e=this.__text.split(" "),i="",s=0,n=e.length;for(this.prepareMeasureWidth(t);t.measureText(i).width<=this.__textWidth&&n>s;)this.lines[0]=i,i+=e[s++]+" "},calculateMultiline:function(){this.lines=this.__text.split("\n")},calculateBoundedMultiline:function(){var t=J.RULER;this.lines.length=0;var i,s,n,a,o,h,e=this.__text.split("\n"),r=0;for(this.prepareMeasureWidth(t),n=0,stringsTotal=e.length;stringsTotal>n;n++){for(i=e[n].split(" "),this.lines[r]=s="",o=a=-1,h=i.length;h>a;)t.measureText(s).width>this.__textWidth?(o&&a--,o=-1,this.lines[++r]=s=""):(this.lines[r]=s,s+=i[++a]+" ",o++);r++}},calc:function(){this.matrixLocal=m.get(this.x,this.y,this.rotation,this.scaleX,this.scaleY),this.matrixGlobal=m.multiply(this.parent.matrixGlobal,this.matrixLocal)},calcOwnMatrices:this.calc,drawNormal:function(){var t=this.__context;t.save(),m.setTransform(t,this.matrixGlobal),t.globalAlpha*=this.alpha,t.font=this.__boldItalic+this.__style.props.size+"px "+this.__style.props.font,t.textAlign=this.__style.props.align,t.textBaseline=this.__style.props.baseline,t.fillStyle=this.color,this.strokeOverFill?(this.fill(t),this.__style.props.strokeWidth&&this.stroke(t)):(this.__style.props.strokeWidth&&this.stroke(t),this.fill(t)),t.restore()},drawCached:function(){},setContext:function(t){this.__context=t},setStage:function(t){this.__stage=t,this.onDisplayed&&t&&this.onDisplayed()},isolate:function(){this.__context=this.__stage=this.parent=null},copy:function(){var t=Q.call(this);return t.lines=this.lines.slice(),t},onAdded:function(){this.measureWidth(),this.measureHeight()},hitTest:function(t,e){var i=this.__context;m.setTransform(i,this.matrixGlobal),i.beginPath(),i.rect(this.__alignOffsetX-this.originX,-this.originY,this.__width,this.__height);var s=i.isPointInPath(t,e);return i.closePath(),s&&this.useDeepHitTest&&(i=F.PIXEL,i.save(),m.setMovedTransform(i,this.matrixGlobal,-t,-e),i.font=this.__boldItalic+this.__style.props.size+"px "+this.__style.props.font,i.textAlign=this.__style.props.align,i.textBaseline=this.__style.props.baseline,i.fillStyle=this.color,this.strokeOverFill?(this.fill(i),this.stroke(i)):(this.stroke(i),this.fill(i)),s=Boolean(i.getImageData(0,0,1,1).data[3]),i.restore(),s&&i.clearRect(0,0,2,2)),s}},J.OWN_PROPS=p.concat("__text __style __boldItalic color strokeColor shadowColor draw __width __height __alignOffsetX strokeOverFill useDeepHitTest __lineSpacing __textWidth __multiline fill stroke measureWidth measureHeight calculateText".split(" ")),function(){var t=document.createElement("canvas");t.width=t.height=1,J.RULER=t.getContext("2d")}(),FontLoader={},function(){function e(){s=!1,FontLoader.hasOwnProperty("onComplete")&&FontLoader.onComplete()}function i(e,i,s){var n=t.ref,h={fontName:e,fontStyle:i,charSet:s};r&&r.parentNode==a.parentNode&&a.parentNode.removeChild(r),WebFontConfig={google:{families:[e+":"+i+":"+s]},active:function(){o+="|"+e+(i?"||"+i:"")+(s?"|||"+s:"")+"  ",FontLoader.hasOwnProperty("onFontLoaded")&&FontLoader.onFontLoaded(h),n.end()},inactive:function(){FontLoader.hasOwnProperty("onFontFail")&&FontLoader.onFontFail(h),n.end()}},r=document.createElement("script"),r.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",r.type="text/javascript",r.async="true",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(r,a)}var n,r,s=!1,a=document.getElementsByTagName("script")[0],o="";Object.defineProperty(FontLoader,"isLoading",{get:function(){return s}}),FontLoader.loadGoogleFont=function(a,r,o){r=r||"400",o=o||"latin",s?n.addTask(i,a,r,o):(n=new t,n.onComplete=e,n.addTask(i,a,r,o),s=!0,n.run())},FontLoader.loadGoogleFontList=function(){var e=t.ref,i={};if("file:"==document.location.protocol)setTimeout(function(){i.data=[""],E("loadGoogleFontList ERROR: font list can not be loaded from 'file://' location. Use it online."),i.hasOwnProperty("onComplete")&&(i.onComplete(),e.end())},0);else{var s=new T;s.onComplete=function(){i.data=JSON.parse(this.data).items,i.hasOwnProperty("onComplete")&&i.onComplete(),e.end()},s.load("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyADQfYE852T3oiRpLbivr44TfmczbjlIqQ")}return i},FontLoader.hasGoogleFont=function(t,e,i){return-1!=o.indexOf("|"+t+(e?"||"+e:"")+(i?"|||"+i:""))}}();var Da={set:function(t,e){for(var i in e)t.style[i]=e[i]}};K.prototype={className:"CssPropNum",constructor:K,get value(){return this.__value},set value(t){this.__element.style[this.__prop]=t+this.__suffix,this.__value=t}},K.parseCSSValue=function(t){var e={value:0,suffix:""};t=String(t).replace(/ /g,"");for(var i=t.length;i--;)if(!isNaN(t.charAt(i))){e.value=Number(t.substring(0,i+1)),e.suffix=t.substring(i+1,t.length);break}return e},K.tween=function(t,e,i,s,n){var a,r,o,h={object:t};for(r in e)o=K.parseCSSValue(e[r]),a=new K(t,r,o.suffix),a=Ga.run(a,"value",o.value,i,1e3*s,n);return a.onComplete=function(){h.hasOwnProperty("onComplete")&&h.onComplete()},h},K.instances={},t.REF_DEFAULT={end:function(){}},Object.defineProperty(t,"ref",{get:function(){var e=t.__ref;return t.__ref=t.REF_DEFAULT,e},set:function(e){t.__ref=e},enumerable:!0,configurable:!0}),t.ref=t.REF_DEFAULT,t.createTask2=function(e,i,s,n){var a=function(){n&&e.onStartBranch();var i=arguments.callee;t.ref=n?{end:function(){e.endBranch()}}:e,i._result=i._func.apply(null,i._arguments)};return a._arguments=s,a._func=i,a._result={},a},t.createTask3=function(e,i,s,n,a){var r=function(){a&&e.onStartBranch();var i=arguments.callee;t.ref=a?{end:function(){e.endBranch()}}:e,i._result=i._object[i._method].apply(i._object,i._arguments)};return r._arguments=n,r._method=s,r._object=i,r._result={},r};var m={get:function(t,e,i,s,n){var a=Math.PI*i/180;return i=Math.cos(a),a=Math.sin(a),{a:s*i,b:s*a,c:-n*a,d:n*i,e:t,f:e}},get2:function(t,e,i,s,n,a,r){var o=Math.PI*i/180;return i=Math.cos(o),o=Math.sin(o),{a:(i-r*o)*s,b:(o+r*i)*s,c:(a*i-o)*n,d:(a*o+i)*n,e:t,f:e}},applyTo:function(t,e){return{x:e.a*t.x+e.c*t.y+e.e,y:e.b*t.x+e.d*t.y+e.f}},multiply:function(t,e){return{a:t.a*e.a+t.c*e.b,b:t.b*e.a+t.d*e.b,c:t.a*e.c+t.c*e.d,d:t.b*e.c+t.d*e.d,e:t.a*e.e+t.c*e.f+t.e,f:t.b*e.e+t.d*e.f+t.f}},invert:function(t){var e=t.c*t.b-t.a*t.d;return{a:-t.d/e,b:t.b/e,c:t.c/e,d:-t.a/e,e:(t.e*t.d-t.c*t.f)/e,f:(t.f*t.a-t.b*t.e)/e}},getSkew:function(t,e){return{a:1,b:t,c:e,d:1,e:0,f:0}},getStretch:function(t,e,i,s){var n=Math.PI*e/180;e=Math.cos(n);var a=Math.sin(n),n=e*e,r=a*a,o=e*a;return e*=a,{a:t*n+r,b:t*o-e,c:t*e-o,d:t*r+n,e:i||0,f:s||0}},transform:function(t,e){t.transform(e.a,e.b,e.c,e.d,e.e,e.f)},setTransform:function(t,e){t.setTransform(e.a,e.b,e.c,e.d,e.e,e.f)},setMovedTransform:function(t,e,i,s){t.setTransform(e.a,e.b,e.c,e.d,e.e+i,e.f+s)},calculateFor:function(t){for(var e=t.__stage,i=[];t!=e;)i.push(t),t=t.parent;for(t=i.length;t--;)i[t].calcOwnMatrices()}};m.GLOBAL=m.UNIT={a:1,b:0,c:0,d:1,e:0,f:0},m.ZERO=m.NULL={a:0,b:0,c:0,d:0,e:0,f:0};var za={globalToLocal:function(t,e,i){return i||m.calculateFor(e),m.applyTo(t,m.invert(e.matrixGlobal))},localToGlobal:function(t,e,i){return i||m.calculateFor(e),m.applyTo(t,e.matrixGlobal)},localToParent:function(t,e,i){return i||e.calcOwnMatrices(),m.applyTo(t,e.matrixLocal)},localToChild:function(t,e,i,s){return i.parent==e?(s||i.calcOwnMatrices(),m.applyTo(t,m.invert(i.matrixLocal))):null},localToLocal:function(t,e,i,s){return s||(m.calculateFor(e),m.calculateFor(i)),m.applyTo(m.applyTo(t,e.matrixGlobal),m.invert(i.matrixGlobal))}};G.prototype={className:"Shape",constructor:G,build:void 0,copy:Ba},G.EMPTY=new G(function(){}),G.OWN_PROPS=na;var da={SquareShape:function(t){this.super(),this.size=v(t,100)},RectangleShape:function(t,e){this.super(),this.width=v(t,200),this.height=v(e,100)},RoundRectangleShape:function(t,e,i,s,n,a){this.super(),this.width=v(t,200),this.height=v(e,100),this.ra=v(i,10),this.rb=v(s,this.ra),this.rc=v(n,this.rb),this.rd=v(a,this.rc)},CircleShape:function(t){this.super(),this.radius=v(t,50)},EllipseShape:function(t,e){this.super(),this.a=v(t,50),this.b=v(e,.618*this.a)},SectorShape:function(t,e,i){this.super(),this.radius=v(t,50),this.startAngle=e||0,this.endAngle=i||0},RingShape:function(t,e){this.super(),this.radius=v(t,50),this.thickness=qa(e,0,this.radius,this.radius/2)},ArcShape:function(t,e,i,s){this.super(),this.radius=v(t,50),this.thickness=qa(e,0,this.radius,this.radius/2),this.startAngle=i||0,this.endAngle=s||2*Math.PI},CapsuleShape:function(t,e,i){this.super(),this.length=v(t,100),this.radius=qa(e,0,this.length/2,this.length/3),i&&(this.originY=2*this.radius,this.rotation=90)},StarShape:function(t,e,i,s){this.super(),this.ra=v(t,50),this.rb=v(e,100),this.n=v(i,5),this.offsetAngle=s||0},PolygonShape:function(t,e,i){this.super(),this.radius=v(t,50),this.n=v(e,5),this.offsetAngle=i||0}},na={SquareShape:function(t){t.rect(0,0,this.size,this.size)},RectangleShape:function(t){t.rect(0,0,this.width,this.height)},RoundRectangleShape:function(t){t.moveTo(this.ra,0),t.lineTo(this.width-this.rb,0),t.arcTo(this.width,0,this.width,this.rb,this.rb),t.lineTo(this.width,this.height-this.rc),t.arcTo(this.width,this.height,this.width-this.rc,this.height,this.rc),t.lineTo(this.rd,this.height),t.arcTo(0,this.height,0,this.height-this.rd,this.rd),t.lineTo(0,this.ra),t.arcTo(0,0,this.ra,0,this.ra),t.closePath()},CircleShape:function(t){t.moveTo(this.radius,0),t.arc(0,0,this.radius,0,2*Math.PI)},EllipseShape:function(t){t.save(),t.scale(this.a/this.b,1),t.moveTo(this.b,0),t.arc(0,0,this.b,0,2*Math.PI),t.restore()},SectorShape:function(t){var e=Math.abs(this.endAngle-this.startAngle)<2*Math.PI;e?(t.moveTo(0,0),t.lineTo(this.radius*Math.cos(this.startAngle),this.radius*Math.sin(this.startAngle))):t.moveTo(this.radius*Math.cos(this.startAngle),this.radius*Math.sin(this.startAngle)),t.arc(0,0,this.radius,this.startAngle,this.endAngle),e&&(t.lineTo(0,0),t.closePath())},RingShape:function(t){var e=this.radius>this.thickness?this.radius-this.thickness:0;t.moveTo(this.radius,0),t.arc(0,0,this.radius,0,2*Math.PI),t.moveTo(e,0),t.arc(0,0,e,0,2*Math.PI,!0),t.moveTo(this.radius,0)},ArcShape:function(t){var e=this.radius>this.thickness?this.radius-this.thickness:0,i=Math.abs(this.endAngle-this.startAngle)<2*Math.PI;t.moveTo(this.radius*Math.cos(this.startAngle),this.radius*Math.sin(this.startAngle)),t.arc(0,0,this.radius,this.startAngle,this.endAngle),i?t.lineTo(e*Math.cos(this.endAngle),e*Math.sin(this.endAngle)):t.moveTo(e*Math.cos(this.endAngle),e*Math.sin(this.endAngle)),t.arc(0,0,e,this.endAngle,this.startAngle,!0),i&&(t.lineTo(this.radius*Math.cos(this.startAngle),this.radius*Math.sin(this.startAngle)),t.closePath())},CapsuleShape:function(t){var e=Math.PI/2;t.moveTo(this.radius,0),t.lineTo(this.length-this.radius,0),t.arc(this.length-this.radius,this.radius,this.radius,-e,e),t.lineTo(this.radius,2*this.radius),t.arc(this.radius,this.radius,this.radius,e,-e),t.closePath()},StarShape:function(t){var e=this.offsetAngle,i=e-Math.PI/2,s=i+Math.PI/this.n;t.moveTo(this.rb*Math.cos(i),this.rb*Math.sin(i)),t.lineTo(this.ra*Math.cos(s),this.ra*Math.sin(s));for(var n=1;n<this.n;n++)i=Math.PI*(n/this.n*2-.5)+e,s=i+Math.PI/this.n,t.lineTo(this.rb*Math.cos(i),this.rb*Math.sin(i)),t.lineTo(this.ra*Math.cos(s),this.ra*Math.sin(s));t.closePath()},PolygonShape:function(t){var e=this.offsetAngle,i=e-Math.PI/2;t.moveTo(this.radius*Math.cos(i),this.radius*Math.sin(i));for(var s=1;s<this.n;s++)i=Math.PI*(s/this.n*2-.5)+e,t.lineTo(this.radius*Math.cos(i),this.radius*Math.sin(i));t.closePath()}},Ha={SquareShape:["size"],RectangleShape:["width","height"],RoundRectangleShape:"width height ra rb rc rd".split(" "),CircleShape:["radius"],EllipseShape:["a","b"],SectorShape:["radius","startAngle","endAngle"],RingShape:["radius","thickness"],ArcShape:["radius","thickness","startAngle","endAngle"],CapsuleShape:["length","radius","isVertical"],StarShape:["ra","rb","n","offsetAngle"],PolygonShape:["radius","n","offsetAngle"]},P,W;for(W in da)P=da[W],fa(P,G),P.prototype.className=W,P.prototype.superclassName="ShapeLayer",P.prototype.build=na[W],P.SPECIFIC_OWN_PROPS=Ha[W],P.OWN_PROPS=G.OWN_PROPS.concat(Ha[W]);U.prototype={className:"ShapeLayer",superclassName:"CanvasLayer",constructor:U,buildShape:function(t){t.save(),m.setTransform(t,this.shapeMatrixGlobal),this.shape.build(t),t.restore()},buildMovedShape:function(t,e,i){m.setMovedTransform(t,this.shapeMatrixGlobal,e,i),this.shape.build(t)},paint:function(t){this.strokeWidth?this.strokeOverFill?(this.fillShape(t),this.strokeShape(t)):(this.strokeShape(t),this.fillShape(t)):this.fillShape(t)},fillShape:function(t){t.fillStyle=this.color,t.fill()},strokeShape:function(t){t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.lineCap=this.strokeCap,t.lineJoin=this.strokeJoin,t.miterLimit=this.strokeMiterLimit,t.stroke()},calc:function(){this.matrixLocal=m.multiply(m.get(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.get(-this.originX,-this.originY,0,1,1)),this.matrixGlobal=this.parent.matrixGlobal?m.multiply(this.parent.matrixGlobal,this.matrixLocal):this.matrixLocal},calcOwnMatrices:this.calc,draw:function(){var t=this.__context;t.save(),this.setMatrixAndAlpha(t),t.beginPath(),this.buildShape(t),this.paint(t),t.restore()},setMatrixAndAlpha:function(t){m.setTransform(t,this.matrixGlobal);var e=this.shape;this.shapeMatrixLocal=m.multiply(m.get(e.x,e.y,e.rotation,e.scaleX,e.scaleY),m.get(-e.originX,-e.originY,0,1,1)),this.shapeMatrixGlobal=m.multiply(this.matrixGlobal,this.shapeMatrixLocal),t.globalAlpha*=this.alpha
},setContext:function(t){this.__context=t},setStage:function(t){this.__stage=t,this.onDisplayed&&t&&this.onDisplayed()},isolate:function(){this.__context=this.__stage=this.parent=null},copy:function(){var t=Q.call(this);return t.shape=this.shape.copy(),t},hitTest:function(t,e){var i=this.__context;if(m.setTransform(i,this.shapeMatrixGlobal),i.beginPath(),this.shape.build(i),i=i.isPointInPath(t,e),!i&&this.useDeepHitTest){var s=F.PIXEL;s.save(),s.beginPath(),this.buildMovedShape(s,-t,-e),m.setMovedTransform(s,this.matrixGlobal,-t,-e),this.paint(s),i=Boolean(s.getImageData(0,0,1,1).data[3]),s.restore(),i&&s.clearRect(0,0,2,2)}return i}},U.OWN_PROPS=p.concat("strokeOverFill color strokeColor strokeWidth strokeCap strokeJoin strokeMiterLimit useDeepHitTest".split(" ")),fa(V,U),V.prototype.className="RectangleLayer",V.prototype.superclassName="CanvasLayer",Object.defineProperty(V.prototype,"width",{get:function(){return this.shape.width},set:function(t){this.shape.width=t}}),Object.defineProperty(V.prototype,"height",{get:function(){return this.shape.height},set:function(t){this.shape.height=t}}),fa(ea,U),ea.prototype.className="CircleLayer",ea.prototype.superclassName="CanvasLayer",Object.defineProperty(ea.prototype,"radius",{get:function(){return this.shape.radius},set:function(t){this.shape.radius=t}}),ma.prototype={className:"ShapeRegion",superclassName:"CanvasLayer",constructor:ma,drawNothing:function(){},drawShape:function(){var t=this.__context;t.save(),this.setMatrix(t),t.beginPath(),t.globalAlpha*=this.alpha,t.fillStyle=this.color,this.shape.build(t),t.fill(),t.restore()},get visible(){return this.__visible},set visible(t){this.draw=t?this.drawShape:this.drawNothing,this.__visible=t},calc:function(){this.matrixLocal=m.multiply(m.get(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.get(-this.originX,-this.originY,0,1,1)),this.matrixGlobal=this.parent.matrixGlobal?m.multiply(this.parent.matrixGlobal,this.matrixLocal):this.matrixLocal},calcOwnMatrices:this.calc,setMatrix:function(t){var e=this.shape;this.shapeMatrixLocal=m.multiply(m.get(e.x,e.y,e.rotation,e.scaleX,e.scaleY),m.get(-e.originX,-e.originY,0,1,1)),this.shapeMatrixGlobal=m.multiply(this.matrixGlobal,this.shapeMatrixLocal),m.setTransform(t,this.shapeMatrixGlobal)},setContext:function(t){this.__context=t},setStage:function(t){this.__stage=t,this.onDisplayed&&t&&this.onDisplayed()},isolate:function(){this.__context=this.__stage=this.parent=null},copy:function(){var t=Q.call(this);return t.shape=this.shape.copy(),t},hitTest:function(t,e){var i=this.__context;return this.setMatrix(i),i.beginPath(),this.shape.build(i),i.isPointInPath(t,e)}},ma.OWN_PROPS=p.concat(["draw","color","__visible"]);var oa={DRAG_START:"dragBehaviorStart",DRAG_END:"dragBehaviorEnd",DRAG_MOVE:"dragBehaviorMove"},ra=function(){function t(t){M=u.gesturePoint,isNaN(M.x)||isNaN(M.y)||(C=l.parent.isContainer?za.globalToLocal(M,l.parent,!0):M,f.idle||(g=C.x-h,_=C.y-c,isNaN(g)||f.fixedX||(l.x=g<f.minX?f.minX:g>f.maxX?f.maxX:g),isNaN(_)||f.fixedY||(l.y=_<f.minY?f.minY:_>f.maxY?f.maxY:_)),(x=(t-w)/1e3)?(b=C.x-O.x,y=C.y-O.y,p=b/x,v=y/x):p=v=b=y=0,l.dispatchEvent(oa.DRAG_MOVE,{x:C.x,y:C.y,speedX:p,speedY:v,deltaX:b,deltaY:y}),O.x=C.x,O.y=C.y,w=t)}function e(t){u.gesturePoint=u.getMousePoint(t)}function i(t){u.gesturePoint=u.getTouchPoint(t)}function s(){document.addEventListener("mousemove",e),document.addEventListener("touchmove",i)}function n(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",i)}function a(e){l=e.currentTarget,(u=l.__stage)&&(d=u.canvas,f=m.get(l),T=l.parent.isContainer?za.globalToLocal(u.gesturePoint,l.parent,!0):u.gesturePoint,h=T.x-l.x,c=T.y-l.y,u.metronome.addListener(t),d.addEventListener("mouseleave",s),d.addEventListener("mouseenter",n),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),document.addEventListener("touchcancel",n),l.dispatchEvent(oa.DRAG_START,{x:T.x,y:T.y,speedX:0,speedY:0,deltaX:0,deltaY:0}),O.x=T.x,O.y=T.y,p=v=b=y=0,w=(new Date).getTime())}function r(e){u&&u.metronome.removeListener(t),d&&(d.removeEventListener("mouseleave",s),d.removeEventListener("mouseenter",n)),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n),document.removeEventListener("touchcancel",n),n(e),l&&l.dispatchEvent(oa.DRAG_END,{x:C.x,y:C.y,speedX:p,speedY:v,deltaX:b,deltaY:y}),l=u=f=void 0}function o(t){t=t&&t instanceof Object?t:{},this.idle=t.idle,this.fixedX=t.fixedX,this.fixedY=t.fixedY,this.minX=t.hasOwnProperty("minX")?t.minX:Number.NEGATIVE_INFINITY,this.maxX=t.hasOwnProperty("maxX")?t.maxX:Number.POSITIVE_INFINITY,this.minY=t.hasOwnProperty("minY")?t.minY:Number.NEGATIVE_INFINITY,this.maxY=t.hasOwnProperty("maxY")?t.maxY:Number.POSITIVE_INFINITY}var h,c,l,u,d,f,g,_,p,v,b,y,w,x,T,C,M,m=new H,O={};return o.prototype={className:"DragBehavior",superclassName:"Object",constructor:o,addTo:function(t){t.addEventListener("mouseDown",a),document.addEventListener("mouseup",r),document.addEventListener("touchend",r),document.addEventListener("touchcancel",r),m.set(t,this)},removeFrom:function(t){t.removeEventListener("mouseDown",a),document.removeEventListener("mouseup",r),document.removeEventListener("touchend",r),document.removeEventListener("touchcancel",r),m.delete(t)},addedTo:function(t){return m.get(t)===this}},o.addedTo=function(t){return m.has(t)},o.of=function(t){return m.get(t)},o.catch=function(t){o.addedTo(t)&&t.__stage&&t.__stage.isDown&&a({currentTarget:t})},o}();window.hasOwnProperty("jsband")||(window.jsband={}),p=window.jsband,p.wrap={},p.use=function(a){a=a.split(" ").join("");var b,c=a.lastIndexOf(".*");if(c==a.length-2)for(b in a=eval(parseJS(a.substring(0,c))))window[b]=a[b];else b=a.split("."),b=b[b.length-1],window[b]=eval(parseJS(a))},p.trace=E,p.extend=fa,p.createClass=function(t,e,i){function s(){if(e)for(var t in e)this[t]=e[t];i&&i(this)}return s.prototype=t,s.prototype.constructor=s},p.getColorComponents=pa,p.EnterFrameSignal=p.Metronome=A,p.Ease=B,p.Pause=wa,p.Wait=Fa,p.MonoTween={run:function(e,i,s,n,a,r){var u,o=t.ref,h={object:e},c=a||30,l=n||B.lin(),d=e[i],f="change"+i;u=r?r:e.__stage&&e.__stage.metronome?e.__stage.metronome:A.getInstance();var m=1;return e[f]=function(){this[i]=l(d,s,m++/c),m>c&&(this[i]=s,u.removeListener(this,f),delete this[f],h.hasOwnProperty("onComplete")&&setTimeout(function(){h.onComplete()},0),o.end())},u.addListener(e,f),h}},p.MonoTweenTimebased=Ga,p.PolyTween={run:function(e,i,s,n,a,r){var u,o=t.ref,h={object:e},c=n||30,l=s||B.lin();u=a?a:e.__stage&&e.__stage.metronome?e.__stage.metronome:A.getInstance();var d;r?(s=r.startFrame||1,d=r.looped):(s=1,d=!1);var m,f=0,g={};for(m in i)g[m]=e[m],f++;var _=f;for(m in i)r="change"+m,e[r]=function(){_=_?_-1:f-1;var t=arguments.callee,e=t.p,s=t.updateFunctionName;this[e]=l(g[e],i[e],t.n++/c),t.n>c&&(this[e]=i[e],d?t.n=1:(u.removeListener(this,s),delete this[s],_||(h.hasOwnProperty("onComplete")&&setTimeout(function(){h.onComplete()},0),o.end())))},e[r].p=m,e[r].n=s,e[r].updateFunctionName=r,u.addListener(e,r);return h}},p.PolyTweenTimebased=p.Tween=ca,p.ColorTween=xa,p.ColorTweenTimebased=xa,p.Boom=ya,p.Boomerang={run:function(e,i,s,n,a,r){var u,o=t.ref,h={object:e},c=n||30,l=s||ya.osc();u=a?a:e.__stage&&e.__stage.metronome?e.__stage.metronome:A.getInstance();var d;r?(s=r.startFrame||1,d=r.looped):(s=1,d=!1);var m,f=0,g={},_={};for(m in i)g[m]=e[m],_[m]=i[m]-g[m],f++;var p=f;for(m in i)i="change"+m,e[i]=function(){p=p?p-1:f-1;var t=arguments.callee,e=t.p,i=t.updateFunctionName;this[e]=g[e]+_[e]*l(t.n++/c),t.n>c&&(this[e]=g[e],d?t.n=1:(u.removeListener(this,i),delete this[i],p||(h.hasOwnProperty("onComplete")&&setTimeout(function(){h.onComplete()},0),o.end())))},e[i].p=m,e[i].n=s,e[i].updateFunctionName=i,u.addListener(e,i);return h}},p.BoomerangTimebased={run:function(e,i,s,n,a){var l,r=t.ref,o={object:e},h=n||500,c=s||ya.osc();l=a?a:e.__stage&&e.__stage.metronome?e.__stage.metronome:A.getInstance(),s=0;var u,d={},f={};for(u in i)d[u]=e[u],f[u]=i[u]-d[u],s++;var m=(new Date).getTime();for(u in i)i="change"+u,e[i]=function(t){var e=arguments.callee,i=e.p,s=e.updateFunctionName;this[i]=d[i]+f[i]*c(e.t/h),e.t=t-m,e.t>h&&(this[i]=d[i],l.removeListener(this,s),delete this[s],!e.propsCounter)&&(o.hasOwnProperty("onComplete")&&o.onComplete(),r.end())},e[i].p=u,e[i].t=0,e[i].propsCounter=--s,e[i].updateFunctionName=i,l.addListener(e,i);return o}},p.Shift=sa,p.ShiftTimebased=ta,p.CanvasContainer=ba,p.CanvasComposition=F,p.ImageLayer=ia,p.TextLoader=T,p.XMLLoader=function(){this.data=null;var e=this;this.load=function(i){var s=t.ref,n=new XMLHttpRequest;n.open("GET",i,!0,"gl"),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&0!=n.status||(e.data=n.responseXML,e.hasOwnProperty("onComplete")&&e.onComplete(),s.end())},n.send(null)}},p.AtlasData=function(){this.imageURL=this.image=this.scale=this.size=this.format=this.frames=null,this.loaded=!1;var e=this;this.load=function(i,s){function n(t){if(t=t instanceof T?JSON.parse(t.data):t,e.frames=t.frames,e.format=t.meta.format,e.size=t.meta.size,e.scale=t.meta.scale,s&&(s instanceof Image||s instanceof HTMLCanvasElement))e.image=s,e.loaded=!0,e.hasOwnProperty("onLoad")&&e.onLoad(),a.end();else{var i=new Image;i.onload=function(){e.image=i,e.loaded=!0,e.hasOwnProperty("onLoad")&&e.onLoad(),a.end()},i.src=e.imageURL=s?s:t.meta.image}}var a=t.ref;if("string"==typeof i){var r=new T;r.onComplete=function(){n(this)},r.load(i)}else n(i)}},p.AtlasFilmData=Ea,p.AtlasFilmDataSheet=function(){var e=this;this.load=function(i){var s=t.ref,n=new T;n.onComplete=function(){e.parse(this.data.trim()),e.hasOwnProperty("onLoad")&&e.onLoad(),s.end()},n.load(i)},this.parse=function(t){"&"!=t.charAt(0)&&(t="&".concat(t)),t=t.split("&");for(var s,n,a,i=t.length,r=1;i>r;r++)s=t[r].split("="),a=s[0].trim(),n=new Ea,n.parse(s[1]),e[a]=n}},p.AtlasImageLayer=ja,p.AtlasFilmLayer=ka,p.EventDispatcherBehaivor=C,p.StyleObject=O,p.TextLayer=J,p.CssProp=Da,p.CssPropNum=K,p.CssPropCompound=function(t,e,i,s){for(var r,c,n=this,a=-1,o=0,h=[],l=[];0<=(a=i.indexOf("[",a+1));)if(0<=(r=i.indexOf("]",a))){c=i.substring(o,a);var o=i.substring(a+1,r),u={get:function(){return this["__"+u.subPropName]},set:function(i){this["__"+u.subPropName]=i,i=h.length;for(var s=l[0],a=0;i>a;a++)s+=n["__"+h[a]]+l[a+1];n.__value=t.style[e]=s}};u.subPropName=o,Object.defineProperty(n,o,u),l.push(c),h.push(o),o=r+1}if(l.push(i.substring(r+1,i.length)),s)for(var d in s)this[d]=s[d]},p.Queue=t,p.Matrix=m,p.Point=za,p.Shape=G,p.ShapeLayer=U,p.RectangleLayer=V,p.CircleLayer=ea,p.ShapeRegion=ma,p.CommonMap=X,p.SoftMap=H,p.HardMap=L,p.SoftSet=Y,p.HardSet=Z,p.IdChain=ga,p.FontLoader=FontLoader,p.DragBehavior=ra,p.DragBehaviorEvent=oa,p.CanvasCompositionWrapper=va,p.Swing=aa,p.Wave=D,p.Motion=ha,p.Motion2D=ua,p.events={CustomEvent:{CUSTOM_STRING_CONSTANT_1:"customEventName_1",CUSTOM_STRING_CONSTANT_2:"customEventName_2"},CustomEventData:function(t,e,i){this.eventProp_1=t,this.eventProp_2=e,this.eventProp_3=i}},p.shapes=da}(),function(){function t(t,e,i,s){return isNaN(t)?e:i>t?i:t>s?s:t}function e(t,e){for(var i={},s=1;4>s;s++){var n=t["wave"+s];if(n)for(var a in n)!isNaN(n[a])&&a in m&&(i[m[a]+s]=n[a])}if(e)for(a in f)a in i||(i[a]=0);return i}function i(f,g){function _(){re.width=ae.clientWidth,re.height=ae.clientHeight}function p(t,e,i){return i=ne/(se+i),{x:i*t,y:i*e,alpha:1>i?i*i:1,scale:i}}function v(){var t,e,i,s,n,a,r;_e=Math.sqrt(ue*ue+le*le),pe=ue/_e||1e-4,ve=-le/_e||1e-4,me=Math.sin(ce.angle),ge=Math.cos(ce.angle),s=[[pe*pe+ve*ve*ge,pe*ve*(1-ge),ve*me],[pe*ve*(1-ge),ve*ve+pe*pe*ge,-pe*me],[-ve*me,pe*me,(pe*pe+ve*ve)*ge]],r=be;var h,o=[];for(h=0;3>h;h++)for(o[h]=[],t=0;3>t;t++)o[h][t]=s[h][0]*r[0][t]+s[h][1]*r[1][t]+s[h][2]*r[2][t];for(be=o,re.width=re.width,oe.fillStyle=S,oe.translate(re.width/2,re.height/2),o=P;o--;)for(s=o/P*M-I,h=r=Math.round(P*Math.cos(s)*2);h--;)t=h/r*2*M-M,i=(L+ce.amp1*Math.sin(ce.freq1*s+ce.pha1))*Math.cos(s)*Math.cos(t),n=(L+ce.amp2*Math.sin(ce.freq2*t+ce.pha2))*Math.cos(s)*Math.sin(t),a=(L+ce.amp3*Math.sin(ce.freq3*s+ce.pha3))*Math.sin(s),t=be[0][0]*i+be[0][1]*n+be[0][2]*a,e=be[1][0]*i+be[1][1]*n+be[1][2]*a,i=be[2][0]*i+be[2][1]*n+be[2][2]*a,t=p(t,e,i),e=E*t.scale,oe.globalAlpha=t.alpha,e>0&&oe.fillRect(t.x,t.y,e,e)}function b(t){var e=re.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}function y(t){Ne=(new Date).getTime(),Ne-je>1e3/O&&(xe=b(t),Me=xe.x-Le,Ie=xe.y-ke,Pe=Math.sqrt(Me*Me+Ie*Ie),ye=Math.sqrt((xe.x-re.width/2)*(xe.x-re.width/2)+(xe.y-re.height/2)*(xe.y-re.height/2)),Pe&&D>ye&&(we=A>ye?1:(D-ye)/(D-A),Math.abs(Math.acos((Me*Te+Ie*Oe)/(Ce*Pe)))>Math.PI/2&&(de*=-1),Math.min(Pe,C)*R*we>Math.abs(ce.angle)&&(fe.stop(),ce.angle=de*Math.min(Pe,C)*R*we,le=de*Me,ue=de*Ie,fe=a.run(ce,{angle:de*N},n.powOut(3),F,he)),Te=Me,Oe=Ie,Ce=Pe),Le=xe.x,ke=xe.y,je=Ne)}function w(t){document.removeEventListener("mousemove",w),xe=b(t),Le=xe.x,ke=xe.y,document.addEventListener("mousemove",y)}var x=document.getElementById(f);if(x){i.instances[f]&&i.instances[f].destroy(),i.instances[f]=this,g||(g={});var T=Number.POSITIVE_INFINITY,O=30,C=100,M=Math.PI,I=M/2,P=t(g.DETALISATION,60,1,T),L=t(g.BLOB_SIZE,220,1,T),k=t(g.BLOB_DISTANCE,1e3,0,T),N=t(g.ROTATION_SPEED,5,0,T)/1e3,j=t(g.PERSPECTIVE_DISTORTION,1,.001,T),E=t(g.DOT_SIZE,2,0,T),S=g.DOT_COLOR||"black",A=t(g.MOUSE_DISTANCE_MIN,20,0,T),D=t(g.MOUSE_DISTANCE_MAX,A+400,A+.001,T),R=t(g.MOUSE_SENSITIVITY,1,0,T)/1e3,F=1e3*t(g.INERTIAL_TIME,2,0,T),G=g.INITIAL_SHAPE||{wave1:{amplitude:70,frequency:3,phase:0},wave2:{amplitude:60,frequency:2,phase:0},wave3:{amplitude:50,frequency:2,phase:0}},H=g.USE_MORPHING,W=g.USE_WAVE_MOTION,B=g.USE_WAVE_SWING,X="MORPHING_AUTOPLAY"in g?g.MORPHING_AUTOPLAY:!0,Y=t(g.MORPHING_DURATION,2,0,T),q=t(g.MORPHING_DELAY,1,0,T),z=g.MORPHING_TRANSITION_TYPE||"cubic",U=g.MORPHING_SHAPES||[];if(W&&H&&U.length)for(var V=1;4>V;V++)if(g["WAVE_"+V+"_MOTION_SPEED"])for(var Q=U.length;Q--;){var Z=U[Q]["wave"+V];Z&&"phase"in Z&&delete Z.phase}if(B)for(V=1;4>V;V++){var J=g["WAVE_"+V+"_SWING_SETTINGS"];if(J){for(var K in J){var $=J[K];if($){if(H)for(Q=U.length;Q--;)(Z=U[Q]["wave"+V])&&K in Z&&delete Z[K];"type"in $&&($.wave=("function"==typeof $.type?$.type:d[$.type])||c.sin,delete $.type),"amplitude"in $&&isNaN($.amplitude)&&delete $.amplitude,"frequency"in $&&isNaN($.frequency)&&delete $.frequency,"phase"in $&&isNaN($.phase)&&delete $.phase}}J.phase&&W&&(g["WAVE_"+V+"_MOTION_SPEED"]=0)}}var ye,we,xe,Me,Ie,Pe,Le,ke,Ne,Ee,te=g.WAVE_1_MOTION_SPEED,ee=g.WAVE_2_MOTION_SPEED,ie=g.WAVE_3_MOTION_SPEED,se=k/j,ne=1e3/j,ae=function(){var t=document.createElement("div");return r.set(t,{position:"relative",width:"100%",height:"100%",top:0,left:0,margin:0,userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",userDrag:"none",WebkitUserDrag:"none",overflow:"hidden",cursor:"default"}),t.setAttribute("unselectable","on"),x.appendChild(t),t}(),re=function(){var t=document.createElement("canvas");return r.set(t,{position:"absolute",width:"100%",height:"100%",top:0,left:0,margin:0}),t.width=ae.clientWidth,t.height=ae.clientHeight,ae.appendChild(t),t}(),oe=re.getContext("2d"),he=new s,ce=function(){var s,t={set:function(t){for(var e in t)this[e]=t[e]},angle:N},i=e(G,!0);for(s in i)t[s]=i[s];return t}(),le=5,ue=5,de=1,fe={stop:function(){}},me=Math.sin(ce.angle),ge=Math.cos(ce.angle),_e=Math.sqrt(ue*ue+le*le),pe=ue/_e,ve=-le/_e,be=[[1,0,0],[0,1,0],[0,0,1]],Te=0,Oe=0,Ce=0,je=(new Date).getTime();if(this.resize=function(){_()},this.destroy=function(){i.instances[f]=null,he.removeAllListeners(),Ee&&Ee.clear(),window.removeEventListener("resize",_),document.removeEventListener("mousemove",w),document.removeEventListener("mousemove",y),ae.removeChild(re),x.removeChild(ae),x=f=g=T=O=C=M=I=P=L=N=j=E=S=A=D=R=F=G=H=W=B=X=Y=q=z=U=te=ee=ie=k=se=ne=ae=re=oe=he=ce=le=ue=de=fe=me=ge=_e=pe=ve=be=ye=we=xe=Te=Oe=Ce=Me=Ie=Pe=Le=ke=Ne=je=Ee=_=p=v=b=y=w=null;for(K in this)delete this[K];this.resize=this.destroy=this.morphTo=function(){}},this.morphTo=function(t){if(H&&U.length){var i;t&&"object"==typeof t?i=t:!isNaN(t)&&t>=0&&t<U.length&&!(t-Math.floor(t))&&(i=U[t]),i&&a.run(ce,e(i),"function"==typeof z?z:u[z],1e3*Y,he)}},Object.defineProperties(this,{blobSize:{get:function(){return L},set:function(e){L=t(e,220,1,T)},configurable:!0},blobDistance:{get:function(){return k},set:function(e){k=t(e,1e3,0,T),se=k/j,ne=1e3/j},configurable:!0},rotationSpeed:{get:function(){return N},set:function(e){ce.angle=N=t(e,5,0,T)/1e3},configurable:!0},perspectiveDistortion:{get:function(){return j},set:function(e){j=t(e,1,.001,T),se=k/j,ne=1e3/j},configurable:!0},dotSize:{get:function(){return E},set:function(e){E=t(e,2,0,T)},configurable:!0},dotColor:{get:function(){return S},set:function(t){S=t||"black"},configurable:!0},mouseDistanceMin:{get:function(){return A},set:function(e){A=t(e,20,0,D-1e-4)},configurable:!0},mouseDistanceMax:{get:function(){return D},set:function(e){D=t(e,A+400,A+.001,T)},configurable:!0},mouseSensitivity:{get:function(){return R},set:function(e){var i=R;(R=t(e,1,0,T)/1e3)&&!i?document.addEventListener("mousemove",w):i&&!R&&(document.removeEventListener("mousemove",w),document.removeEventListener("mousemove",y))},configurable:!0},inertialTime:{get:function(){return F},set:function(e){F=1e3*t(e,2,0,T)},configurable:!0},wave1Amplitude:{get:function(){return ce.amp1},set:function(t){ce.amp1=t},configurable:!0},wave2Amplitude:{get:function(){return ce.amp2},set:function(t){ce.amp2=t},configurable:!0},wave3Amplitude:{get:function(){return ce.amp3},set:function(t){ce.amp3=t},configurable:!0},wave1Frequency:{get:function(){return ce.freq1},set:function(t){ce.freq1=t},configurable:!0},wave2Frequency:{get:function(){return ce.freq2},set:function(t){ce.freq2=t},configurable:!0},wave3Frequency:{get:function(){return ce.freq3},set:function(t){ce.freq3=t},configurable:!0},wave1Phase:{get:function(){return ce.pha1},set:function(t){ce.pha1=t},configurable:!0},wave2Phase:{get:function(){return ce.pha2},set:function(t){ce.pha2=t},configurable:!0},wave3Phase:{get:function(){return ce.pha3},set:function(t){ce.pha3=t},configurable:!0}}),window.addEventListener("resize",_),H&&X&&U.length){for(Ee=new o,Ee.delay=q,Q=0,J=U.length;J>Q;Q++)Ee.addTween(ce,e(U[Q]),"function"==typeof z?z:u[z],Y,he);Ee.addQueue(Ee),Ee.run()}if(W&&(Q=function(){var t={},e=0;return te&&!isNaN(te)&&(t.pha1=te,e++),ee&&!isNaN(ee)&&(t.pha2=ee,e++),ie&&!isNaN(ie)&&(t.pha3=ie,e++),e?new l(ce,t,he):0}())&&Q.play(),B)for(Q=1;4>Q;Q++)if(J=g["WAVE_"+Q+"_SWING_SETTINGS"])for(K in J)(V=m[K])&&new h(ce,V+Q,J[K],he).play();he.addListener(v),R&&document.addEventListener("mousemove",w)}else alert("BlobAnimation ERROR: There is no element with the specified id")}var s=jsband.Metronome,n=jsband.Ease,a=jsband.Tween,r=jsband.CssProp,o=jsband.Queue,h=jsband.Swing,c=jsband.Wave,l=jsband.Motion,u={linear:n.lin(),quad:n.pow(2),cubic:n.pow(3),quart:n.pow(4),quint:n.pow(5),circ:n.circ(),sine:n.sin(),expo:n.exp(),elastic:n.osc2Out(),bounce:n.bncOut(),back:n.backOut()},d={sine:c.sin,linear:c.triangle,pulse:c.pulse},f={amp1:1,freq1:1,pha1:1,amp2:1,freq2:1,pha2:1,amp3:1,freq3:1,pha3:1},m={amplitude:"amp",frequency:"freq",phase:"pha"};i.instances={},window.hasOwnProperty("BlobAnimation")?alert('Unable to load "blob.js". Make sure that the document does not contain a global variable with the name "BlobAnimation"'):window.BlobAnimation=i}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){return t.fn.tilt=function(e){var i=function(){this.ticking||(requestAnimationFrame(l.bind(this)),this.ticking=!0)},s=function(){var e=this;t(this).on("mousemove",o),t(this).on("mouseenter",a),this.settings.reset&&t(this).on("mouseleave",h),this.settings.glare&&t(window).on("resize",d.bind(e))},n=function(){var e=this;void 0!==this.timeout&&clearTimeout(this.timeout),t(this).css({transition:this.settings.speed+"ms "+this.settings.easing}),this.settings.glare&&this.glareElement.css({transition:"opacity "+this.settings.speed+"ms "+this.settings.easing}),this.timeout=setTimeout(function(){t(e).css({transition:""}),e.settings.glare&&e.glareElement.css({transition:""})},this.settings.speed)},a=function(){this.ticking=!1,t(this).css({"will-change":"transform"}),n.call(this),t(this).trigger("tilt.mouseEnter")},r=function(e){return"undefined"==typeof e&&(e={pageX:t(this).offset().left+t(this).outerWidth()/2,pageY:t(this).offset().top+t(this).outerHeight()/2}),{x:e.pageX,y:e.pageY}},o=function(t){this.mousePositions=r(t),i.call(this)},h=function(){n.call(this),this.reset=!0,i.call(this),t(this).trigger("tilt.mouseLeave")},c=function(){var e=t(this).outerWidth(),i=t(this).outerHeight(),s=t(this).offset().left,n=t(this).offset().top,a=(this.mousePositions.x-s)/e,r=(this.mousePositions.y-n)/i,o=(this.settings.maxTilt/2-a*this.settings.maxTilt).toFixed(2),h=(r*this.settings.maxTilt-this.settings.maxTilt/2).toFixed(2),c=Math.atan2(this.mousePositions.x-(s+e/2),-(this.mousePositions.y-(n+i/2)))*(180/Math.PI);return{tiltX:o,tiltY:h,percentageX:100*a,percentageY:100*r,angle:c}},l=function(){return this.transforms=c.call(this),this.reset?(this.reset=!1,t(this).css("transform","perspective("+this.settings.perspective+"px) rotateX(0deg) rotateY(0deg)"),void(this.settings.glare&&(this.glareElement.css("transform","rotate(180deg) translate(-50%, -50%)"),this.glareElement.css("opacity","0")))):(t(this).css("transform","perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.disableAxis?0:this.transforms.tiltY)+"deg) rotateY("+("y"===this.settings.disableAxis?0:this.transforms.tiltX)+"deg) scale3d("+this.settings.scale+","+this.settings.scale+","+this.settings.scale+")"),this.settings.glare&&(this.glareElement.css("transform","rotate("+this.transforms.angle+"deg) translate(-50%, -50%)"),this.glareElement.css("opacity",""+this.transforms.percentageY*this.settings.maxGlare/100)),t(this).trigger("change",[this.transforms]),void(this.ticking=!1))},u=function(){var e=this.settings.glarePrerender;if(e||t(this).append('<div class="js-tilt-glare"><div class="js-tilt-glare-inner"></div></div>'),this.glareElementWrapper=t(this).find(".js-tilt-glare"),this.glareElement=t(this).find(".js-tilt-glare-inner"),!e){var i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%"};this.glareElementWrapper.css(i).css({overflow:"hidden","pointer-events":"none"}),this.glareElement.css({position:"absolute",top:"50%",left:"50%","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:""+2*t(this).outerWidth(),height:""+2*t(this).outerWidth(),transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"})}},d=function(){this.glareElement.css({width:""+2*t(this).outerWidth(),height:""+2*t(this).outerWidth()})};return t.fn.tilt.destroy=function(){t(this).each(function(){t(this).find(".js-tilt-glare").remove(),t(this).css({"will-change":"",transform:""}),t(this).off("mousemove mouseenter mouseleave")})},t.fn.tilt.getValues=function(){var e=[];return t(this).each(function(){this.mousePositions=r.call(this),e.push(c.call(this))}),e},t.fn.tilt.reset=function(){t(this).each(function(){var e=this;this.mousePositions=r.call(this),this.settings=t(this).data("settings"),h.call(this),setTimeout(function(){e.reset=!1},this.settings.transition)})},this.each(function(){var i=this;this.settings=t.extend({maxTilt:t(this).is("[data-tilt-max]")?t(this).data("tilt-max"):20,perspective:t(this).is("[data-tilt-perspective]")?t(this).data("tilt-perspective"):300,easing:t(this).is("[data-tilt-easing]")?t(this).data("tilt-easing"):"cubic-bezier(.03,.98,.52,.99)",scale:t(this).is("[data-tilt-scale]")?t(this).data("tilt-scale"):"1",speed:t(this).is("[data-tilt-speed]")?t(this).data("tilt-speed"):"400",transition:!t(this).is("[data-tilt-transition]")||t(this).data("tilt-transition"),disableAxis:t(this).is("[data-tilt-disable-axis]")?t(this).data("tilt-disable-axis"):null,axis:t(this).is("[data-tilt-axis]")?t(this).data("tilt-axis"):null,reset:!t(this).is("[data-tilt-reset]")||t(this).data("tilt-reset"),glare:!!t(this).is("[data-tilt-glare]")&&t(this).data("tilt-glare"),maxGlare:t(this).is("[data-tilt-maxglare]")?t(this).data("tilt-maxglare"):1},e),null!==this.settings.axis&&(console.warn("Tilt.js: the axis setting has been renamed to disableAxis. See https://github.com/gijsroge/tilt.js/pull/26 for more information"),this.settings.disableAxis=this.settings.axis),this.init=function(){t(i).data("settings",i.settings),i.settings.glare&&u.call(i),s.call(i)},this.init()})},t("[data-tilt]").tilt(),!0});